<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>小兵兵</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="小兵兵">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="小兵兵">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="小兵兵">
  
    <link rel="alternate" href="/atom.xml" title="小兵兵" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">小兵兵</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-优化点击事件绑定" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/22/优化点击事件绑定/" class="article-date">
  <time datetime="2019-01-22T04:58:55.000Z" itemprop="datePublished">2019-01-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/22/优化点击事件绑定/">优化点击事件绑定</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>1、优化点击事件绑定</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcss.com/jquery/3.3.1/jquery.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">data-action</span>=<span class="string">"id1"</span>&gt;</span>新增按钮1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">data-action</span>=<span class="string">"id2"</span>&gt;</span>删除按钮2<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">data-action</span>=<span class="string">"id3"</span>&gt;</span>按钮3<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">data-action</span>=<span class="string">"id4"</span>&gt;</span>按钮4<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> log = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log.apply(<span class="built_in">console</span>, <span class="built_in">arguments</span>)</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> actionList = &#123;</span></span><br><span class="line"><span class="javascript">        <span class="string">'id1'</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            alert(<span class="string">'id1=============&gt;'</span>)</span></span><br><span class="line"><span class="undefined">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="string">'id2'</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            alert(<span class="string">'id2===============&gt;'</span>)</span></span><br><span class="line"><span class="undefined">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="string">'id3'</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            alert(<span class="string">'id3===============&gt;'</span>)</span></span><br><span class="line"><span class="undefined">        &#125;,</span></span><br><span class="line"><span class="javascript">        <span class="string">'id4'</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            alert(<span class="string">'id4===============&gt;'</span>)</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> $body = $(<span class="string">'body'</span>)</span></span><br><span class="line"><span class="javascript">    $body.on(<span class="string">'click'</span>, <span class="string">'[data-action]'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//jQuery获取html标签自定义属性值或data值</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> action_name = $(<span class="keyword">this</span>).data(<span class="string">'action'</span>)</span></span><br><span class="line"><span class="javascript">        <span class="keyword">let</span> action = actionList[action_name]</span></span><br><span class="line"><span class="javascript">        <span class="comment">// log(action)</span></span></span><br><span class="line"><span class="javascript">        <span class="comment">// log($.isFunction(action))</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">if</span> ($.isFunction(action)) &#123;</span></span><br><span class="line"><span class="undefined">            action()</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;)</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="comment">//页面需要新增一个按钮，做扩展</span></span></span><br><span class="line"><span class="xml">    $body.append('<span class="tag">&lt;<span class="name">button</span> <span class="attr">data-action</span>=<span class="string">"id5"</span>&gt;</span>按钮5<span class="tag">&lt;/<span class="name">button</span>&gt;</span>')</span></span><br><span class="line"><span class="javascript">    $.extend(actionList, &#123;</span></span><br><span class="line"><span class="javascript">        <span class="string">'id5'</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            alert(<span class="string">'id5============&gt;'</span>)</span></span><br><span class="line"><span class="undefined">        &#125;</span></span><br><span class="line"><span class="undefined">    &#125;)</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>参考</p>
<p><a href="https://github.com/cssmagic/blog/issues/48" target="_blank" rel="noopener">https://github.com/cssmagic/blog/issues/48</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/01/22/优化点击事件绑定/" data-id="cjr7d1d6r0007pouehusxcgay" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-网易邮箱服务器发送电子邮件_搭建James邮件服务器发送电子邮件" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/22/网易邮箱服务器发送电子邮件_搭建James邮件服务器发送电子邮件/" class="article-date">
  <time datetime="2019-01-22T04:58:55.000Z" itemprop="datePublished">2019-01-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/22/网易邮箱服务器发送电子邮件_搭建James邮件服务器发送电子邮件/">网易邮箱服务器发送电子邮件_搭建James邮件服务器发送电子邮件</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>1、网易邮箱发送电子邮件</p>
<p>为了安全，网易邮箱开启pop3授权码验证，该授权码可以让客户端进行登录</p>
<p><img src="https://i.imgur.com/MepAaVz.png" alt=""></p>
<p><img src="https://i.imgur.com/BzfesnI.png" alt=""></p>
<p>qq开启授权码</p>
<p><a href="https://service.mail.qq.com/cgi-bin/help?subtype=1&amp;&amp;no=1001256&amp;&amp;id=28" target="_blank" rel="noopener">https://service.mail.qq.com/cgi-bin/help?subtype=1&amp;&amp;no=1001256&amp;&amp;id=28</a></p>
<p>实现：<br>JavaMailAPI使用比较麻烦，这里采用的是Apache Commons Email</p>
<p>导入依赖</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;!-- https://mvnrepository.com/artifact/org.apache.commons/commons-email --&gt;</span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;commons-email&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.4&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>
<p>测试：<br>A simple text email</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">@Test</span><br><span class="line">   public void test01() throws Exception &#123;</span><br><span class="line">       SimpleEmail email = new SimpleEmail();</span><br><span class="line">       // 设置主机名，远程服务器的主机名</span><br><span class="line">       email.setHostName(&quot;smtp.163.com&quot;);</span><br><span class="line">       email.setSmtpPort(25);</span><br><span class="line">       // 设置登陆远程服务器的账号和pop3授权码</span><br><span class="line">       email.setAuthentication(&quot;15501892660@163.com&quot;, &quot;xxxxxxx&quot;);</span><br><span class="line"></span><br><span class="line">       // 编写一个邮件</span><br><span class="line">       // 设置发送给谁</span><br><span class="line">       email.addTo(&quot;782125244@qq.com&quot;);</span><br><span class="line">       // 设置这个邮件来源于哪里</span><br><span class="line">       email.setFrom(&quot;15501892660@163.com&quot;);</span><br><span class="line">       // 设置邮件主题</span><br><span class="line">       email.setSubject(&quot;163发给qq的测试邮件 &quot;);</span><br><span class="line">       // 设置邮件内容</span><br><span class="line">       email.setMsg(&quot;测试邮件&quot;);</span><br><span class="line">       // 邮件发送</span><br><span class="line">       email.send();</span><br><span class="line"></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p>参考：</p>
<p><a href="http://commons.apache.org/proper/commons-email/userguide.html" target="_blank" rel="noopener">http://commons.apache.org/proper/commons-email/userguide.html</a></p>
<p>2、搭建James邮件服务器</p>
<p>下载</p>
<p><a href="https://archive.apache.org/dist/james/server/" target="_blank" rel="noopener">https://archive.apache.org/dist/james/server/</a></p>
<p>quick-start</p>
<p><a href="http://james.apache.org/server/quick-start.html" target="_blank" rel="noopener">http://james.apache.org/server/quick-start.html</a></p>
<p>解压</p>
<p>D:\devsoft\apache-james-3.0-beta4</p>
<p><img src="https://i.imgur.com/nR79WWy.png" alt=""></p>
<p>建库</p>
<p><img src="https://i.imgur.com/kj3faWO.png" alt=""></p>
<p>配置数据源</p>
<p><img src="https://i.imgur.com/9l952KR.png" alt=""></p>
<p><img src="https://i.imgur.com/1PeU0yW.png" alt=""></p>
<p>启动</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">D:\devsoft\apache-james-3.0-beta4\bin&gt;run.bat</span><br><span class="line">INFO  09:28:46,331 | org.apache.james.container.spring.context.JamesServerApplicationContext | Refreshing org.apache.james.container.spring.context.JamesServerApplicationContext@153f5a29: startup date [Thu Jan 03 09:28:46 CST 2019]; root of context hierarchy</span><br><span class="line">Exception in thread &quot;main&quot; org.springframework.beans.factory.BeanDefinitionStoreException: Failed to create the JAXB binder; nested exception is javax.xml.bind.JAXBException: Provider com.sun.xml.internal.bind.v2.ContextFactory could not be instantiated: com.sun.xml.internal.bind.v2.runtime.IllegalAnnotationsException: 1 counts of IllegalAnnotationExceptions</span><br><span class="line">类的两个属性具有相同名称 &quot;outputs&quot;</span><br><span class="line">        this problem is related to the following location:</span><br><span class="line">                at public java.util.List org.apache.camel.model.ResequenceDefinition.getOutputs()</span><br><span class="line">                at org.apache.camel.model.ResequenceDefinition</span><br><span class="line">        this problem is related to the following location:</span><br><span class="line">                at private java.util.List org.apache.camel.model.ResequenceDefinition.outputs</span><br><span class="line">                at org.apache.camel.model.ResequenceDefinition</span><br><span class="line"></span><br><span class="line"> - with linked exception:</span><br><span class="line">[com.sun.xml.internal.bind.v2.runtime.IllegalAnnotationsException: 1 counts of IllegalAnnotationExceptions</span><br><span class="line">类的两个属性具有相同名称 &quot;outputs&quot;</span><br><span class="line">        this problem is related to the following location:</span><br><span class="line">                at public java.util.List org.apache.camel.model.ResequenceDefinition.getOutputs()</span><br><span class="line">                at org.apache.camel.model.ResequenceDefinition</span><br><span class="line">        this problem is related to the following location:</span><br><span class="line">                at private java.util.List org.apache.camel.model.ResequenceDefinition.outputs</span><br><span class="line">                at org.apache.camel.model.ResequenceDefinition</span><br><span class="line">]</span><br><span class="line">        at org.apache.camel.spring.handler.CamelNamespaceHandler$CamelContextBeanDefinitionParser.doParse(CamelNamespaceHandler.java:258)</span><br><span class="line">        at org.springframework.beans.factory.xml.AbstractSingleBeanDefinitionParser.parseInternal(AbstractSingleBeanDefinitionParser.java:85)</span><br><span class="line">        at org.springframework.beans.factory.xml.AbstractBeanDefinitionParser.parse(AbstractBeanDefinitionParser.java:59)</span><br><span class="line">        at org.springframework.beans.factory.xml.NamespaceHandlerSupport.parse(NamespaceHandlerSupport.java:73)</span><br><span class="line">        at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1419)</span><br><span class="line">        at org.springframework.beans.factory.xml.BeanDefinitionParserDelegate.parseCustomElement(BeanDefinitionParserDelegate.java:1409)</span><br><span class="line">        at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.parseBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:184)</span><br><span class="line">        at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.doRegisterBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:140)</span><br><span class="line">        at org.springframework.beans.factory.xml.DefaultBeanDefinitionDocumentReader.registerBeanDefinitions(DefaultBeanDefinitionDocumentReader.java:111)</span><br><span class="line">        at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.registerBeanDefinitions(XmlBeanDefinitionReader.java:493)</span><br><span class="line">        at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:390)</span><br><span class="line">        at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:334)</span><br><span class="line">        at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:302)</span><br><span class="line">        at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:174)</span><br><span class="line">        at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:209)</span><br><span class="line">        at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:180)</span><br><span class="line">        at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:243)</span><br><span class="line">        at org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:127)</span><br><span class="line">        at org.springframework.context.support.AbstractXmlApplicationContext.loadBeanDefinitions(AbstractXmlApplicationContext.java:93)</span><br><span class="line">        at org.springframework.context.support.AbstractRefreshableApplicationContext.refreshBeanFactory(AbstractRefreshableApplicationContext.java:131)</span><br><span class="line">        at org.springframework.context.support.AbstractApplicationContext.obtainFreshBeanFactory(AbstractApplicationContext.java:522)</span><br><span class="line">        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:436)</span><br><span class="line">        at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:139)</span><br><span class="line">        at org.springframework.context.support.ClassPathXmlApplicationContext.&lt;init&gt;(ClassPathXmlApplicationContext.java:93)</span><br><span class="line">        at org.apache.james.container.spring.context.JamesServerApplicationContext.&lt;init&gt;(JamesServerApplicationContext.java:39)</span><br><span class="line">        at org.apache.james.app.spring.JamesAppSpringMain.init(JamesAppSpringMain.java:61)</span><br><span class="line">        at org.apache.james.app.spring.JamesAppSpringMain.main(JamesAppSpringMain.java:42)</span><br><span class="line">Caused by: javax.xml.bind.JAXBException: Provider com.sun.xml.internal.bind.v2.ContextFactory could not be instantiated: com.sun.xml.internal.bind.v2.runtime.IllegalAnnotationsException: 1 counts of IllegalAnnotationExceptions</span><br><span class="line">类的两个属性具有相同名称 &quot;outputs&quot;</span><br><span class="line">        this problem is related to the following location:</span><br><span class="line">                at public java.util.List org.apache.camel.model.ResequenceDefinition.getOutputs()</span><br><span class="line">                at org.apache.camel.model.ResequenceDefinition</span><br><span class="line">        this problem is related to the following location:</span><br><span class="line">                at private java.util.List org.apache.camel.model.ResequenceDefinition.outputs</span><br><span class="line">                at org.apache.camel.model.ResequenceDefinition</span><br><span class="line"></span><br><span class="line"> - with linked exception:</span><br><span class="line">[com.sun.xml.internal.bind.v2.runtime.IllegalAnnotationsException: 1 counts of IllegalAnnotationExceptions</span><br><span class="line">类的两个属性具有相同名称 &quot;outputs&quot;</span><br><span class="line">        this problem is related to the following location:</span><br><span class="line">                at public java.util.List org.apache.camel.model.ResequenceDefinition.getOutputs()</span><br><span class="line">                at org.apache.camel.model.ResequenceDefinition</span><br><span class="line">        this problem is related to the following location:</span><br><span class="line">                at private java.util.List org.apache.camel.model.ResequenceDefinition.outputs</span><br><span class="line">                at org.apache.camel.model.ResequenceDefinition</span><br><span class="line">]</span><br><span class="line">        at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:146)</span><br><span class="line">        at javax.xml.bind.ContextFinder.find(ContextFinder.java:356)</span><br><span class="line">        at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:431)</span><br><span class="line">        at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:394)</span><br><span class="line">        at org.apache.camel.spring.handler.CamelNamespaceHandler.createJaxbContext(CamelNamespaceHandler.java:187)</span><br><span class="line">        at org.apache.camel.spring.handler.CamelNamespaceHandler.getJaxbContext(CamelNamespaceHandler.java:174)</span><br><span class="line">        at org.apache.camel.spring.handler.CamelNamespaceHandler$CamelContextBeanDefinitionParser.doParse(CamelNamespaceHandler.java:256)</span><br><span class="line">        ... 26 more</span><br><span class="line">Caused by: com.sun.xml.internal.bind.v2.runtime.IllegalAnnotationsException: 1 counts of IllegalAnnotationExceptions</span><br><span class="line">类的两个属性具有相同名称 &quot;outputs&quot;</span><br><span class="line">        this problem is related to the following location:</span><br><span class="line">                at public java.util.List org.apache.camel.model.ResequenceDefinition.getOutputs()</span><br><span class="line">                at org.apache.camel.model.ResequenceDefinition</span><br><span class="line">        this problem is related to the following location:</span><br><span class="line">                at private java.util.List org.apache.camel.model.ResequenceDefinition.outputs</span><br><span class="line">                at org.apache.camel.model.ResequenceDefinition</span><br><span class="line"></span><br><span class="line">        at com.sun.xml.internal.bind.v2.runtime.IllegalAnnotationsException$Builder.check(IllegalAnnotationsException.java:91)</span><br><span class="line">        at com.sun.xml.internal.bind.v2.runtime.JAXBContextImpl.getTypeInfoSet(JAXBContextImpl.java:445)</span><br><span class="line">        at com.sun.xml.internal.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:277)</span><br><span class="line">        at com.sun.xml.internal.bind.v2.runtime.JAXBContextImpl.&lt;init&gt;(JAXBContextImpl.java:124)</span><br><span class="line">        at com.sun.xml.internal.bind.v2.runtime.JAXBContextImpl$JAXBContextBuilder.build(JAXBContextImpl.java:1123)</span><br><span class="line">        at com.sun.xml.internal.bind.v2.ContextFactory.createContext(ContextFactory.java:147)</span><br><span class="line">        at com.sun.xml.internal.bind.v2.ContextFactory.createContext(ContextFactory.java:271)</span><br><span class="line">        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</span><br><span class="line">        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)</span><br><span class="line">        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</span><br><span class="line">        at java.lang.reflect.Method.invoke(Method.java:498)</span><br><span class="line">        at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:171)</span><br><span class="line">        at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:131)</span><br><span class="line">        ... 32 more</span><br><span class="line"></span><br><span class="line">D:\devsoft\apache-james-3.0-beta4\bin&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">D:\devsoft\apache-james-3.0-beta4\bin&gt;run.bat</span><br><span class="line">INFO  09:37:44,247 | org.apache.james.container.spring.context.JamesServerApplicationContext | Refreshing org.apache.james.container.spring.context.JamesServerApplicationContext@7ca48474: startup date [Thu Jan 03 09:37:44 CST 2019]; root of context hierarchy</span><br><span class="line">log4j:WARN No appenders could be found for logger (org.apache.commons.configuration.ConfigurationUtils).</span><br><span class="line">log4j:WARN Please initialize the log4j system properly.</span><br><span class="line">log4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.</span><br><span class="line">INFO  09:37:45,153 | org.apache.james.container.spring.context.JamesServerApplicationContext | Bean &apos;logprovider&apos; of type [class org.apache.james.container.spring.lifecycle.LogProviderImpl] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)</span><br><span class="line">INFO  09:37:45,544 | james.mailrepositorystore | JamesMailStore init...</span><br><span class="line">INFO  09:37:45,550 | james.mailrepositorystore | Registering Repository instance of class org.apache.james.mailrepository.file.FileMailRepository to handle file protocol requests for repositories with key file</span><br><span class="line">INFO  09:37:45,550 | james.mailrepositorystore | Registering Repository instance of class org.apache.james.mailrepository.jdbc.JDBCMailRepository to handle db protocol requests for repositories with key db</span><br><span class="line">INFO  09:37:45,550 | james.mailrepositorystore | Registering Repository instance of class org.apache.james.mailrepository.jdbc.JDBCMailRepository to handle dbfile protocol requests for repositories with key dbfile</span><br><span class="line">INFO  09:37:45,551 | james.mailrepositorystore | Registering Repository instance of class org.apache.james.mailrepository.file.MBoxMailRepository to handle mbox protocol requests for repositories with key mbox</span><br><span class="line">INFO  09:37:45,936 | james.dnsservice | Autodiscovery is enabled - trying to discover your system&apos;s DNS Servers</span><br><span class="line">INFO  09:37:45,942 | james.dnsservice | Adding autodiscovered server 202.100.192.68</span><br><span class="line">INFO  09:37:45,942 | james.dnsservice | Adding autodiscovered server 202.100.199.8</span><br><span class="line">INFO  09:37:45,943 | james.dnsservice | DNS Server is: 202.100.192.68</span><br><span class="line">INFO  09:37:45,943 | james.dnsservice | DNS Server is: 202.100.199.8</span><br><span class="line">INFO  09:37:45,949 | james.dnsservice | Registered cache, resolver and search paths as DNSJava defaults</span><br><span class="line">12  James  WARN   [main] openjpa.Runtime - An error occurred while registering a ClassTransformer with PersistenceUnitInfo: name &apos;James&apos;, root URL [file:/D:/devsoft/apache-james-3.0-beta4/conf/]. The error has been consumed. To see it, set your openjpa.Runtime log level to TRACE. Load-time class transformation will not be available.</span><br><span class="line">INFO  09:37:55,187 | james.domainlist | Set autodetect to: true</span><br><span class="line">INFO  09:37:55,187 | james.domainlist | Set autodetectIP to: true</span><br><span class="line">28  James  INFO   [main] openjpa.Runtime - Starting OpenJPA 2.1.0</span><br><span class="line">52  James  INFO   [main] openjpa.jdbc.JDBC - Using dictionary class &quot;org.apache.openjpa.jdbc.sql.MySQLDictionary&quot;.</span><br><span class="line">Cannot load JDBC driver class &apos;com.mysql.jdbc.Driver&apos;</span><br><span class="line">java.lang.ClassNotFoundException: com.mysql.jdbc.Driver</span><br><span class="line">        at java.net.URLClassLoader.findClass(URLClassLoader.java:381)</span><br><span class="line">        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)</span><br><span class="line">        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:338)</span><br><span class="line">        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)</span><br><span class="line">        at org.apache.commons.dbcp.BasicDataSource.createConnectionFactory(BasicDataSource.java:1420)</span><br><span class="line">        at org.apache.commons.dbcp.BasicDataSource.createDataSource(BasicDataSource.java:1371)</span><br><span class="line">        at org.apache.commons.dbcp.BasicDataSource.getConnection(BasicDataSource.java:1044)</span><br></pre></td></tr></table></figure>
<p>解决办法</p>
<p>D:\devsoft\apache-james-3.0-beta4\conf\lib：存放自己导入的jar</p>
<p>D:\devsoft\apache-james-3.0-beta4\lib：存放James默认jar</p>
<p>复制jaxb-impl-2.1.3.jar，mysql驱动jar包到conf/lib下</p>
<p><img src="https://i.imgur.com/4wuAqzA.png" alt=""></p>
<p>设置服务器域名、建立账户</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">D:\devsoft\apache-james-3.0-beta4\bin&gt; james-cli.bat -h localhost -p 9999 adddomain atguigu.com</span><br><span class="line">adddomain command executed sucessfully in 106 ms.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">D:\devsoft\apache-james-3.0-beta4\bin&gt; james-cli.bat -h localhost -p 9999 adduser test@atguigu.com test</span><br><span class="line">adduser command executed sucessfully in 94 ms.</span><br></pre></td></tr></table></figure>
<p>配置Foxmail客户端连接James邮件服务器</p>
<p><img src="https://i.imgur.com/f8p6D2w.png" alt=""><br><img src="https://i.imgur.com/9J6L4rf.png" alt=""></p>
<p>测试：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">/**</span><br><span class="line">    * 测试james发送邮件</span><br><span class="line">    * @Description (TODO这里用一句话描述这个方法的作用)</span><br><span class="line">    * @throws Exception</span><br><span class="line">    */</span><br><span class="line">   @Test</span><br><span class="line">   public void test02() throws Exception&#123;</span><br><span class="line">       SimpleEmail email = new SimpleEmail();</span><br><span class="line">       //设置主机名，远程服务器的主机名</span><br><span class="line">       email.setHostName(&quot;127.0.0.1&quot;);</span><br><span class="line">       //自定义的ip，一定要手动设置好端口号</span><br><span class="line">       email.setSmtpPort(25);</span><br><span class="line">       //设置登陆远程服务器的密码</span><br><span class="line">       email.setAuthentication(&quot;test@atguigu.com&quot;, &quot;000000&quot;);</span><br><span class="line">       </span><br><span class="line">       //编写一个邮件</span><br><span class="line">       //设置发送给谁</span><br><span class="line">       email.addTo(&quot;17512080612@163.com&quot;);</span><br><span class="line">       //设置这个邮件来源于哪里</span><br><span class="line">       email.setFrom(&quot;admin@atguigu.com&quot;);</span><br><span class="line">       //设置邮件主题</span><br><span class="line">       email.setSubject(&quot;哈哈，给你测试 &quot;);</span><br><span class="line">       //设置邮件内容</span><br><span class="line">       email.setMsg(&quot;我能给您发邮件&lt;a href=&apos;http://www.atguigu.com&apos;&gt;尚硅谷&lt;/a&gt;&quot;);</span><br><span class="line">       //邮件发送</span><br><span class="line">       email.send();</span><br><span class="line">       </span><br><span class="line">       </span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/01/22/网易邮箱服务器发送电子邮件_搭建James邮件服务器发送电子邮件/" data-id="cjr7d1d7f000epouenlucz36k" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-用户分配角色_角色维护权限树" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/22/用户分配角色_角色维护权限树/" class="article-date">
  <time datetime="2019-01-22T04:58:55.000Z" itemprop="datePublished">2019-01-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/22/用户分配角色_角色维护权限树/">用户分配角色_角色维护权限树</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>1、用户分配角色</p>
<p>效果图：</p>
<p><img src="https://i.imgur.com/ra0b05w.png" alt=""></p>
<p><img src="https://i.imgur.com/L33T2Cu.png" alt=""></p>
<p>实现思路：</p>
<p>1）先静态实现页面</p>
<p>2）从数据库查询用户未分配角色和已分配角色，前端初始化该列表</p>
<p>3）添加、移除用户拥有的角色</p>
<p>前端：</p>
<p>1)左移、右移：append和appendTo的使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">$(&quot;.unroles :selected&quot;).appendTo(&quot;.roles_select&quot;)</span><br></pre></td></tr></table></figure>
<p>2）遍历选中的角色</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">//遍历选中的元素,拼接用户角色id</span><br><span class="line">$(&apos;.unroles :selected&apos;).each(function() &#123;</span><br><span class="line">	log(this)</span><br><span class="line">	rids += $(this).val() + &apos;,&apos;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>3)ajax发送异步请求（参数拼接：用户id,角色rids）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">uid = &apos;$&#123;param.uid&#125;&apos;</span><br><span class="line">url = &apos;$&#123;ctp&#125;/permission/user/assignrole?opt=remove&amp;uid=&apos;</span><br><span class="line">		+ uid + &apos;&amp;rids=&apos; + rids + &apos;&apos;</span><br><span class="line"></span><br><span class="line">//发送请求移除</span><br><span class="line">$.get(url, fnf)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;div class=&quot;panel panel-default&quot;&gt;</span><br><span class="line">		&lt;div class=&quot;panel-body&quot;&gt;</span><br><span class="line">			&lt;form role=&quot;form&quot; class=&quot;form-inline&quot;&gt;</span><br><span class="line">				&lt;div class=&quot;form-group&quot;&gt;</span><br><span class="line">					&lt;label for=&quot;exampleInputPassword1&quot;&gt;未分配角色列表&lt;/label&gt;&lt;br&gt; &lt;select</span><br><span class="line">						class=&quot;form-control unroles&quot; multiple size=&quot;10&quot;</span><br><span class="line">						style=&quot;width: 100px; overflow-y: auto;&quot;&gt;</span><br><span class="line">						&lt;c:forEach items=&quot;$&#123;list_user_unrole&#125;&quot; var=&quot;user_unrole&quot;&gt;</span><br><span class="line">							&lt;option value=&quot;$&#123;user_unrole.id&#125;&quot;&gt;$&#123;user_unrole.name&#125;&lt;/option&gt;</span><br><span class="line">						&lt;/c:forEach&gt;</span><br><span class="line">					&lt;/select&gt;</span><br><span class="line">				&lt;/div&gt;</span><br><span class="line">				&lt;div class=&quot;form-group&quot;&gt;</span><br><span class="line">					&lt;ul&gt;</span><br><span class="line">						&lt;li class=&quot;btn btn-default glyphicon glyphicon-chevron-right&quot;&gt;&lt;/li&gt;</span><br><span class="line">						&lt;br&gt;</span><br><span class="line">						&lt;li class=&quot;btn btn-default glyphicon glyphicon-chevron-left&quot;</span><br><span class="line">							style=&quot;margin-top: 20px;&quot;&gt;&lt;/li&gt;</span><br><span class="line">					&lt;/ul&gt;</span><br><span class="line">				&lt;/div&gt;</span><br><span class="line">				&lt;div class=&quot;form-group&quot; style=&quot;margin-left: 40px;&quot;&gt;</span><br><span class="line">					&lt;label for=&quot;exampleInputPassword1&quot;&gt;已分配角色列表&lt;/label&gt;&lt;br&gt; &lt;select</span><br><span class="line">						class=&quot;form-control roles_select&quot; multiple size=&quot;10&quot;</span><br><span class="line">						style=&quot;width: 100px; overflow-y: auto;&quot;&gt;</span><br><span class="line">						&lt;c:forEach items=&quot;$&#123;list_user_role&#125;&quot; var=&quot;user_role&quot;&gt;</span><br><span class="line">							&lt;option value=&quot;$&#123;user_role.id&#125;&quot;&gt;$&#123;user_role.name&#125;&lt;/option&gt;</span><br><span class="line">						&lt;/c:forEach&gt;</span><br><span class="line">					&lt;/select&gt;</span><br><span class="line">				&lt;/div&gt;</span><br><span class="line">			&lt;/form&gt;</span><br><span class="line">		&lt;/div&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">	$(function() &#123;</span><br><span class="line">		$(&quot;.list-group-item&quot;).click(function() &#123;</span><br><span class="line">			if ($(this).find(&quot;ul&quot;)) &#123;</span><br><span class="line">				$(this).toggleClass(&quot;tree-closed&quot;);</span><br><span class="line">				if ($(this).hasClass(&quot;tree-closed&quot;)) &#123;</span><br><span class="line">					$(&quot;ul&quot;, this).hide(&quot;fast&quot;);</span><br><span class="line">				&#125; else &#123;</span><br><span class="line">					$(&quot;ul&quot;, this).show(&quot;fast&quot;);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;);</span><br><span class="line"></span><br><span class="line">	//页面加载完成执行</span><br><span class="line">	$(function() &#123;</span><br><span class="line">		addUserRoleEvent()</span><br><span class="line">		removeUserRoleEvent()</span><br><span class="line">	&#125;)</span><br><span class="line"></span><br><span class="line">	//用户添加角色事件</span><br><span class="line">	var addUserRoleEvent = function() &#123;</span><br><span class="line">		$(&apos;.glyphicon-chevron-right&apos;).click(</span><br><span class="line">				function() &#123;</span><br><span class="line">					log(&apos;向右移动=============&gt;&apos;)</span><br><span class="line">					var uid = &apos;&apos;</span><br><span class="line">					var rids = &apos;&apos;</span><br><span class="line">					//遍历选中的元素,拼接用户角色id</span><br><span class="line">					$(&apos;.unroles :selected&apos;).each(function() &#123;</span><br><span class="line">						log(this)</span><br><span class="line">						rids += $(this).val() + &apos;,&apos;</span><br><span class="line">					&#125;)</span><br><span class="line">					rids = rids.substring(0, rids.length - 1)</span><br><span class="line">					log(&apos;用户角色ids==========&gt;&apos;, rids)</span><br><span class="line"></span><br><span class="line">					uid = &apos;$&#123;param.uid&#125;&apos;</span><br><span class="line">					url = &apos;$&#123;ctp&#125;/permission/user/assignrole?opt=add&amp;uid=&apos;</span><br><span class="line">							+ uid + &apos;&amp;rids=&apos; + rids + &apos;&apos;</span><br><span class="line"></span><br><span class="line">					//选中的得进行处理添加到用户角色表中</span><br><span class="line">					//发送请求给当前用户添加这几个角色，必须带上权限id的拼串和userid</span><br><span class="line">					$.get(url, fns)</span><br><span class="line"></span><br><span class="line">				&#125;)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	//用户删除角色事件</span><br><span class="line">	var removeUserRoleEvent = function() &#123;</span><br><span class="line">		$(&apos;.glyphicon-chevron-left&apos;)</span><br><span class="line">				.click(</span><br><span class="line">						function() &#123;</span><br><span class="line">							log(&apos;向左移动=============&gt;&apos;)</span><br><span class="line">							var rids = &apos;&apos;</span><br><span class="line">							$(&apos;.roles_select :selected&apos;).each(function() &#123;</span><br><span class="line">								rids += $(this).val() + &apos;,&apos;</span><br><span class="line">							&#125;)</span><br><span class="line">							rids = rids.substring(0, rids.length - 1)</span><br><span class="line">							log(&apos;用户角色ids==========&gt;&apos;, rids)</span><br><span class="line"></span><br><span class="line">							uid = &apos;$&#123;param.uid&#125;&apos;</span><br><span class="line">							url = &apos;$&#123;ctp&#125;/permission/user/assignrole?opt=remove&amp;uid=&apos;</span><br><span class="line">									+ uid + &apos;&amp;rids=&apos; + rids + &apos;&apos;</span><br><span class="line"></span><br><span class="line">							//发送请求移除</span><br><span class="line">							$.get(url, fnf)</span><br><span class="line">						&#125;)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	//异步请求成功的回调函数</span><br><span class="line">	var fns = function(data) &#123;</span><br><span class="line">		log(&apos;异步请求成功的回调函数===============&gt;&apos;)</span><br><span class="line">		log(&apos;data===========&gt;&apos;, data)</span><br><span class="line">		//$(&apos;.roles_select&apos;).append($(&apos;.unroles :selected&apos;))</span><br><span class="line">		$(&quot;.unroles :selected&quot;).appendTo(&quot;.roles_select&quot;)</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	//异步请求失败的回调函数</span><br><span class="line">	var fnf = function(data) &#123;</span><br><span class="line">		log(&apos;异步请求失败的回调函数===============&gt;&apos;)</span><br><span class="line">		log(&apos;data===========&gt;&apos;, data)</span><br><span class="line">		$(&apos;.roles_select :selected&apos;).appendTo(&apos;.unroles&apos;)</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>控制层:</p>
<p>1)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">// 添加移除用户角色</span><br><span class="line">  @RequestMapping(&quot;/assignrole&quot;)</span><br><span class="line">  @ResponseBody</span><br><span class="line">  public String userRole(@RequestParam(&quot;uid&quot;) Integer uid, @RequestParam(&quot;rids&quot;) String rids,</span><br><span class="line">          @RequestParam(&quot;opt&quot;) String opt) &#123;</span><br><span class="line">      System.out.println(&quot;添加移除用户角色==================&gt;&quot;);</span><br><span class="line">      System.out.println(&quot;用户id-----角色ids------类型：添加、移除&quot;);</span><br><span class="line">      System.out.println(uid);</span><br><span class="line">      System.out.println(rids);</span><br><span class="line">      System.out.println(opt);</span><br><span class="line"></span><br><span class="line">      if (&quot;add&quot;.equals(opt)) &#123;</span><br><span class="line">          // 为某个用户添加角色</span><br><span class="line">          int i = userRoleService.add(uid, rids);</span><br><span class="line"></span><br><span class="line">      &#125; else if (&quot;remove&quot;.equals(opt)) &#123;</span><br><span class="line">          // 为某个用户删除角色</span><br><span class="line">          int i = userRoleService.remove(uid, rids);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      return &quot;success&quot;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @RequestMapping(&quot;/toAssignRolePage&quot;)</span><br><span class="line">  public String toAssignRolePage(@RequestParam(value = &quot;uid&quot;) Integer uid, Model model) &#123;</span><br><span class="line">      System.out.println(&quot;UserController.toAssignRolePage去分配角色页面=============&gt;&quot;);</span><br><span class="line">      // 1、查出所有角色</span><br><span class="line">      List&lt;TRole&gt; list_role = roleService.getAllRole();</span><br><span class="line">      System.out.println(&quot;所有角色===========&gt;&quot;);</span><br><span class="line">      System.out.println(list_role);</span><br><span class="line">      // 2、查出当前用户拥有的角色</span><br><span class="line">      List&lt;TRole&gt; list_user_role = roleService.getUserRole(uid);</span><br><span class="line">      System.out.println(&quot;当前用户的角色==========&gt;&quot;);</span><br><span class="line">      System.out.println(list_user_role);</span><br><span class="line">      HashMap&lt;Integer, TRole&gt; map_user_role = new HashMap&lt;&gt;();</span><br><span class="line">      for (TRole tRole : list_user_role) &#123;</span><br><span class="line">          map_user_role.put(tRole.getId(), tRole);</span><br><span class="line">      &#125;</span><br><span class="line">      // 3、用户未分配的角色</span><br><span class="line">      ArrayList&lt;TRole&gt; list_user_unrole = new ArrayList&lt;&gt;();</span><br><span class="line">      for (TRole tRole : list_role) &#123;</span><br><span class="line">          if (!map_user_role.containsKey(tRole.getId())) &#123;</span><br><span class="line">              list_user_unrole.add(tRole);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      System.out.println(&quot;用户未分配的角色=============&gt;&quot;);</span><br><span class="line">      System.out.println(list_user_unrole);</span><br><span class="line">      model.addAttribute(&quot;list_user_role&quot;, list_user_role);</span><br><span class="line">      model.addAttribute(&quot;list_user_unrole&quot;, list_user_unrole);</span><br><span class="line">      // model.addAttribute(&quot;uid&quot;, uid);</span><br><span class="line">      return &quot;manager/permission/assignRole&quot;;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>sql:</p>
<p>1)用户表、用户_角色表、角色表3个表多表查询</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;resultMap id=&quot;BaseResultMap&quot;</span><br><span class="line">	type=&quot;com.atguigu.scw.manager.bean.TRole&quot;&gt;</span><br><span class="line">	&lt;id column=&quot;id&quot; jdbcType=&quot;INTEGER&quot; property=&quot;id&quot; /&gt;</span><br><span class="line">	&lt;result column=&quot;name&quot; jdbcType=&quot;VARCHAR&quot; property=&quot;name&quot; /&gt;</span><br><span class="line">&lt;/resultMap&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- List&lt;TRole&gt; getUserRole(Integer uid); --&gt;</span><br><span class="line">&lt;select id=&quot;getUserRole&quot; resultMap=&quot;BaseResultMap&quot;&gt;</span><br><span class="line">	SELECT</span><br><span class="line">	a.*</span><br><span class="line">	FROM</span><br><span class="line">	t_role a</span><br><span class="line">	LEFT JOIN t_user_role b</span><br><span class="line">	ON a.`id` = b.`roleid`</span><br><span class="line">	LEFT JOIN t_user c</span><br><span class="line">	ON b.`userid` = c.`id`</span><br><span class="line">	WHERE c.`id` = #&#123;uid&#125; </span><br><span class="line">&lt;/select&gt;</span><br></pre></td></tr></table></figure>
<p>2、角色维护权限树</p>
<p>效果图：</p>
<p><img src="https://i.imgur.com/U4cB5aj.png" alt=""></p>
<p><img src="https://i.imgur.com/Yd4wo1a.png" alt=""></p>
<p>实现思路：</p>
<p>1）zTree展示权限树，初始化含有复选框的权限树，异步请求控制层（参数：角色rid）查询出角色拥有的权限</p>
<p>2）点击分配权限携带角色rid和权限permission_ids到控制层，先删除角色所拥有的权限，再更加permission_ids更新角色拥有的权限，同步到前端</p>
<p>3）bootstrap模态框–分配权限按钮绑定参数</p>
<p><img src="https://i.imgur.com/mAxFNQa.png" alt=""></p>
<p><img src="https://i.imgur.com/EHO2nFc.png" alt=""></p>
<p>前端：</p>
<p>1）zTree权限树复选框初始化的时候刚开始使用2次异步请求（一次请求所有权限，一次请求角色拥有的权限），展示数据有点混乱，后来改为一次异步请求同时查询出（所有权限、角色拥有的权限）。</p>
<p>2）bootstrap自定义图标显示不出来</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;!-- Modal模态框 --&gt;</span><br><span class="line">&lt;div class=&quot;modal fade&quot; id=&quot;permissModel&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot;</span><br><span class="line">	aria-labelledby=&quot;myModalLabel&quot;&gt;</span><br><span class="line">	&lt;div class=&quot;modal-dialog&quot; role=&quot;document&quot;&gt;</span><br><span class="line">		&lt;div class=&quot;modal-content&quot;&gt;</span><br><span class="line">			&lt;div class=&quot;modal-header&quot;&gt;</span><br><span class="line">				&lt;button type=&quot;button&quot; class=&quot;close&quot; data-dismiss=&quot;modal&quot;</span><br><span class="line">					aria-label=&quot;Close&quot;&gt;</span><br><span class="line">					&lt;span aria-hidden=&quot;true&quot;&gt;&amp;times;&lt;/span&gt;</span><br><span class="line">				&lt;/button&gt;</span><br><span class="line">				&lt;h4 class=&quot;modal-title&quot; id=&quot;myModalLabel&quot;&gt;Modal title&lt;/h4&gt;</span><br><span class="line">			&lt;/div&gt;</span><br><span class="line">			&lt;div class=&quot;modal-body&quot;&gt;</span><br><span class="line">				&lt;!--展示权限树  --&gt;</span><br><span class="line">				&lt;ul id=&quot;permissionTree&quot; class=&quot;ztree&quot;&gt;&lt;/ul&gt;</span><br><span class="line">			&lt;/div&gt;</span><br><span class="line">			&lt;div class=&quot;modal-footer&quot;&gt;</span><br><span class="line">				&lt;button type=&quot;button&quot; class=&quot;btn btn-default&quot; data-dismiss=&quot;modal&quot;&gt;关闭&lt;/button&gt;</span><br><span class="line">				&lt;button type=&quot;button&quot; class=&quot;btn btn-primary&quot; id=&apos;addPermissionBtn&apos;&gt;分配权限&lt;/button&gt;</span><br><span class="line">			&lt;/div&gt;</span><br><span class="line">		&lt;/div&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">	$(function() &#123;</span><br><span class="line">		$(&quot;.list-group-item&quot;).click(function() &#123;</span><br><span class="line">			if ($(this).find(&quot;ul&quot;)) &#123;</span><br><span class="line">				$(this).toggleClass(&quot;tree-closed&quot;);</span><br><span class="line">				if ($(this).hasClass(&quot;tree-closed&quot;)) &#123;</span><br><span class="line">					$(&quot;ul&quot;, this).hide(&quot;fast&quot;);</span><br><span class="line">				&#125; else &#123;</span><br><span class="line">					$(&quot;ul&quot;, this).show(&quot;fast&quot;);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">	&#125;);</span><br><span class="line"></span><br><span class="line">	/* $(&quot;tbody .btn-success&quot;).click(function() &#123;</span><br><span class="line">		window.location.href = &quot;assignPermission.html&quot;;</span><br><span class="line">	&#125;); */</span><br><span class="line"></span><br><span class="line">	var zTree</span><br><span class="line"></span><br><span class="line">	//设置ajax同步</span><br><span class="line">	//$.ajaxSettings.async = false</span><br><span class="line">	var assignPermissionEvent = function() &#123;</span><br><span class="line">		$(&quot;.assignPermissionModelBtn&quot;).click(function() &#123;</span><br><span class="line">			log(&apos;assignPermissionEvent==============&gt;&apos;)</span><br><span class="line">			//获取当前角色id</span><br><span class="line">			log(&apos;当前角色id==========&gt;&apos;, $(this).attr(&apos;rid&apos;))</span><br><span class="line">			var rid = $(this).attr(&apos;rid&apos;)</span><br><span class="line">			loadModalAndTree(rid)</span><br><span class="line"></span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	var loadModalAndTree = function(rid) &#123;</span><br><span class="line">		//模态框设置</span><br><span class="line">		var options = &#123;</span><br><span class="line">			backdrop : &apos;static&apos;,</span><br><span class="line">			show : true</span><br><span class="line">		&#125;</span><br><span class="line">		//手动打开模态框</span><br><span class="line">		$(&apos;#permissModel&apos;).modal(options)</span><br><span class="line"></span><br><span class="line">		//从数据库查出的所有权限节点数据</span><br><span class="line">		//发送ajax请求获取到所有权限的json数据</span><br><span class="line">		var url = &apos;$&#123;ctp&#125;/permission/role/json/&apos; + rid</span><br><span class="line">		$.getJSON(url, fns)</span><br><span class="line"></span><br><span class="line">		//将角色id保存到模态框的哪个属性中；</span><br><span class="line">		//打开模态框将角色id传递给model里面的权限分配按钮</span><br><span class="line">		log(&apos;角色id===========&gt;&apos;, rid)</span><br><span class="line">		$(&apos;#addPermissionBtn&apos;).attr(&quot;rid&quot;, rid)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	//成功回调函数，刷新权限树</span><br><span class="line">	var fns = function(data) &#123;</span><br><span class="line">		log(&apos;成功返回数据&apos;, data)</span><br><span class="line">		log(&apos;event==========&gt;&apos;, event)</span><br><span class="line"></span><br><span class="line">		var ids = []</span><br><span class="line">		$.each(data.listCurrentPermission, function() &#123;</span><br><span class="line">			ids.push(this.id)</span><br><span class="line">		&#125;)</span><br><span class="line">		log(&apos;ids===========&gt;&apos;, ids)</span><br><span class="line">		//遍历每一条权限</span><br><span class="line">		$.each(data.listPermission, function() &#123;</span><br><span class="line">			//给每一个节点修改或者添加一些属性</span><br><span class="line">			if (this.pid == 0) &#123;</span><br><span class="line">				this.open = true</span><br><span class="line">			&#125;</span><br><span class="line">			if (ids.includes(this.id)) &#123;</span><br><span class="line">				this.checked = true</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;)</span><br><span class="line"></span><br><span class="line">		var setting = &#123;</span><br><span class="line">			data : &#123;</span><br><span class="line">				simpleData : &#123;</span><br><span class="line">					enable : true,</span><br><span class="line">					idKey : &quot;id&quot;,</span><br><span class="line">					pIdKey : &quot;pid&quot;,</span><br><span class="line">				&#125;,</span><br><span class="line">				key : &#123;</span><br><span class="line">					url : &quot;haha&quot;</span><br><span class="line">				&#125;</span><br><span class="line"></span><br><span class="line">			&#125;,</span><br><span class="line">			/* view : &#123;</span><br><span class="line">				addDiyDom : showIcon</span><br><span class="line">			&#125;, */</span><br><span class="line">			check : &#123;</span><br><span class="line">				enable : true</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		zTree = $.fn.zTree.init($(&quot;#permissionTree&quot;), setting,</span><br><span class="line">				data.listPermission)</span><br><span class="line">		log(&apos;zTree赋值完成==========&gt;&apos;, zTree)</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	//用于在节点上固定显示用户自定义控件</span><br><span class="line">	//?图标无法正常显示可能是字体样式没有引入进来</span><br><span class="line">	var showIcon = function(treeId, treeNode) &#123;</span><br><span class="line">		log(&apos;自定义显示图标==============&gt;&apos;)</span><br><span class="line">		log(&apos;treeId===============&gt;&apos;, treeId)</span><br><span class="line">		log(&apos;treeNode===============&gt;&apos;, treeNode)</span><br><span class="line">		//#permissionTree_10_ico</span><br><span class="line">		$(&quot;#&quot; + treeNode.tId + &quot;_ico&quot;).removeClass()</span><br><span class="line">				.addClass(treeNode.icon)</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	//默认勾选当前角色的权限</span><br><span class="line">	var checkcurPermisson = function(rid) &#123;</span><br><span class="line">		var url = &apos;$&#123;ctp&#125;/permission/role/curPermission/&apos; + rid</span><br><span class="line">		$.getJSON(url, fns2)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	//获取当前角色权限成功回调函数</span><br><span class="line">	var fns2 = function(data) &#123;</span><br><span class="line">		log(&apos;fns2===============&gt;&apos;)</span><br><span class="line">		log(&apos;fns2_data================&apos;, data)</span><br><span class="line"></span><br><span class="line">		//遍历当前角色拥有的权限</span><br><span class="line">		$.each(data, function() &#123;</span><br><span class="line">			//$(this).attr(&apos;id&apos;)</span><br><span class="line">			var node = zTree.getNodesByParam(&apos;id&apos;, this.id, null)</span><br><span class="line">			log(&apos;使用zTree===========&gt;&apos;, zTree)</span><br><span class="line">			log(&apos;当前角色拥有的权限=============&gt;&apos;, node)</span><br><span class="line">			zTree.checkNode(node, true, false)</span><br><span class="line">			log(&apos;是否选中=========&gt;&apos;, node.checked)</span><br><span class="line">			node.nocheck = true //表示显示checkbox</span><br><span class="line">		&#125;)</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	//更新权限树</span><br><span class="line">	var updateTree = function() &#123;</span><br><span class="line">		log(&apos;更新权限树===========&gt;&apos;)</span><br><span class="line">		var rid = $(&apos;#addPermissionBtn&apos;).attr(&quot;rid&quot;)</span><br><span class="line">		log(&apos;角色rid==========&gt;&apos;, rid)</span><br><span class="line">		var permission_ids = &apos;&apos;</span><br><span class="line">		//1、获取当前我们已经选中的权限</span><br><span class="line">		var nodes = zTree.getCheckedNodes(true)</span><br><span class="line">		log(&apos;nodes=============&gt;&apos;, nodes)</span><br><span class="line">		$.each(nodes, function() &#123;</span><br><span class="line">			permission_ids += this.id + &apos;,&apos;</span><br><span class="line">		&#125;)</span><br><span class="line">		var url = &apos;$&#123;ctp&#125;/permission/role/update?rid=&apos; + rid</span><br><span class="line">				+ &apos;&amp;permission_ids=&apos; + permission_ids</span><br><span class="line">		$.get(url, updateTreeFn)</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line">	//更新权限树回调函数</span><br><span class="line">	var updateTreeFn = function(data) &#123;</span><br><span class="line">		alert(data)</span><br><span class="line">		log(&quot;权限分配成功===========&gt;&quot;);</span><br><span class="line">		$(&apos;#permissModel&apos;).modal(&quot;hide&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	var addPermissionBtnEvent = function() &#123;</span><br><span class="line">		$(&apos;#addPermissionBtn&apos;).click(function() &#123;</span><br><span class="line">			log(&apos;点击分配权限按钮=============&gt;&apos;)</span><br><span class="line">			updateTree()</span><br><span class="line">		&#125;)</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	var __main = function() &#123;</span><br><span class="line">		assignPermissionEvent()</span><br><span class="line">		addPermissionBtnEvent()</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	$(function() &#123;</span><br><span class="line">		__main()</span><br><span class="line">	&#125;)</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p>控制层：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">//分配权限</span><br><span class="line">@RequestMapping(&quot;/update&quot;)</span><br><span class="line">   @ResponseBody</span><br><span class="line">   public String updateRolePermission(@RequestParam(&quot;rid&quot;) Integer rid,</span><br><span class="line">           @RequestParam(&quot;permission_ids&quot;) String permission_ids) &#123;</span><br><span class="line">       System.out.println(&quot;更新权限==========&gt;&quot;);</span><br><span class="line">       System.out.println(rid);</span><br><span class="line">       System.out.println(permission_ids);</span><br><span class="line">       // 先删除该角色所有权限，在为该用户分配权限</span><br><span class="line">       boolean flag = rolePermissionService.updatePermission(rid, permission_ids);</span><br><span class="line"></span><br><span class="line">       return flag ? &quot;success&quot; : &quot;fail&quot;;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   @RequestMapping(&quot;/curPermission/&#123;id&#125;&quot;)</span><br><span class="line">   @ResponseBody</span><br><span class="line">   public List&lt;TPermission&gt; getCurrentPermission(@PathVariable(&quot;id&quot;) Integer rid) &#123;</span><br><span class="line">       System.out.println(&quot;当前角色拥有的权限==============&gt;&quot;);</span><br><span class="line">       List&lt;TPermission&gt; listPermission = permissionService.getPermissionsById(rid);</span><br><span class="line">       System.out.println(listPermission);</span><br><span class="line">       return listPermission;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">//查出角色拥有的权限、所有权限</span><br><span class="line">   @RequestMapping(&quot;/json/&#123;id&#125;&quot;)</span><br><span class="line">   @ResponseBody</span><br><span class="line">   public HashMap&lt;String, List&lt;TPermission&gt;&gt; getAllPermission(@PathVariable(&quot;id&quot;) Integer rid) &#123;</span><br><span class="line"></span><br><span class="line">       List&lt;TPermission&gt; listPermission = permissionService.getPermissions();</span><br><span class="line">       List&lt;TPermission&gt; listCurrentPermission = permissionService.getPermissionsById(rid);</span><br><span class="line">       HashMap&lt;String, List&lt;TPermission&gt;&gt; map = new HashMap&lt;&gt;();</span><br><span class="line">       map.put(&quot;listPermission&quot;, listPermission);</span><br><span class="line">       map.put(&quot;listCurrentPermission&quot;, listCurrentPermission);</span><br><span class="line">       return map;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>
<p>业务层：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">// 更新权限树</span><br><span class="line">   @Override</span><br><span class="line">   public boolean updatePermission(Integer rid, String permission_ids) &#123;</span><br><span class="line">       // 删除角色权限</span><br><span class="line">       TRolePermissionExample tRolePermissionExample = new TRolePermissionExample();</span><br><span class="line">       Criteria criteria = tRolePermissionExample.createCriteria();</span><br><span class="line">       criteria.andRoleidEqualTo(rid);</span><br><span class="line">       int count = mapper.deleteByExample(tRolePermissionExample);</span><br><span class="line"></span><br><span class="line">       // 更新权限</span><br><span class="line">       if (permission_ids.contains(&quot;,&quot;)) &#123;</span><br><span class="line">           String[] split = permission_ids.split(&quot;,&quot;);</span><br><span class="line">           for (String permission_id : split) &#123;</span><br><span class="line">               int i = Integer.parseInt(permission_id);</span><br><span class="line">               TRolePermission rolePermission = new TRolePermission();</span><br><span class="line">               // 设置权限id</span><br><span class="line">               rolePermission.setPermissionid(i);</span><br><span class="line">               // 设置角色id</span><br><span class="line">               rolePermission.setRoleid(rid);</span><br><span class="line">               // 保存角色权限关系</span><br><span class="line">               mapper.insertSelective(rolePermission);</span><br><span class="line">           &#125;</span><br><span class="line"></span><br><span class="line">       &#125; else &#123;</span><br><span class="line">           int i = Integer.parseInt(permission_ids);</span><br><span class="line">           TRolePermission rolePermission = new TRolePermission();</span><br><span class="line">           // 设置权限id</span><br><span class="line">           rolePermission.setPermissionid(i);</span><br><span class="line">           // 设置角色id</span><br><span class="line">           rolePermission.setRoleid(rid);</span><br><span class="line">           // 保存角色权限关系</span><br><span class="line">           mapper.insertSelective(rolePermission);</span><br><span class="line"></span><br><span class="line">       &#125;</span><br><span class="line">       return true;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> // 为角色分配权限，查询所有权限</span><br><span class="line">   @Override</span><br><span class="line">   public List&lt;TPermission&gt; getPermissions() &#123;</span><br><span class="line"></span><br><span class="line">       List&lt;TPermission&gt; list_permission = mapper.selectByExample(null);</span><br><span class="line">       return list_permission;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   @Override</span><br><span class="line">   public List&lt;TPermission&gt; getPermissionsById(Integer rid) &#123;</span><br><span class="line">       List&lt;TPermission&gt; list_permission = mapper.getRolePermission(rid);</span><br><span class="line">       return list_permission;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/01/22/用户分配角色_角色维护权限树/" data-id="cjr7d1d7f000dpoueu8kdzn16" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-maven配置" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/22/maven配置/" class="article-date">
  <time datetime="2019-01-22T04:58:55.000Z" itemprop="datePublished">2019-01-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/22/maven配置/">maven配置</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>1、下载：</p>
<p><a href="https://maven.apache.org/download.cgi" target="_blank" rel="noopener">https://maven.apache.org/download.cgi</a></p>
<p><img src="https://i.imgur.com/S3Dxltk.png" alt=""></p>
<p>2、配置path环境变量</p>
<p><img src="https://i.imgur.com/rIATqaf.png" alt=""></p>
<p>3、验证安装是否成功</p>
<p><img src="https://i.imgur.com/4ejsorP.png" alt=""></p>
<p>4、配置本地仓库、阿里镜像、jdk编译版本</p>
<p>配置本地仓库位置</p>
<p><img src="https://i.imgur.com/52z9nU5.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;localRepository&gt;C:\greensoft\apache-maven-3.5.2\repository&lt;/localRepository&gt;</span><br></pre></td></tr></table></figure>
<p>配置jar包下载阿里远程镜像</p>
<p><img src="https://i.imgur.com/JIiS5Ss.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;mirror&gt;      </span><br><span class="line">  &lt;id&gt;aliyun-maven&lt;/id&gt;    </span><br><span class="line">  &lt;name&gt;aliyun-maven&lt;/name&gt;  </span><br><span class="line">  &lt;url&gt;http://maven.aliyun.com/nexus/content/groups/public&lt;/url&gt;    </span><br><span class="line">  &lt;mirrorOf&gt;central&lt;/mirrorOf&gt;      </span><br><span class="line">&lt;/mirror&gt;</span><br></pre></td></tr></table></figure>
<p>配置jdk编译版本</p>
<p><img src="https://i.imgur.com/jOArlWO.png" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">		</span><br><span class="line">&lt;profile&gt;</span><br><span class="line">	&lt;id&gt;jdk-1.7&lt;/id&gt;</span><br><span class="line">	&lt;activation&gt;</span><br><span class="line">		&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;</span><br><span class="line">		&lt;jdk&gt;1.7&lt;/jdk&gt;</span><br><span class="line">	&lt;/activation&gt;</span><br><span class="line">	&lt;properties&gt;</span><br><span class="line">		&lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;</span><br><span class="line">		&lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;</span><br><span class="line">		&lt;maven.compiler.compilerVersion&gt;1.7&lt;/maven.compiler.compilerVersion&gt;</span><br><span class="line">	&lt;/properties&gt;</span><br><span class="line">&lt;/profile&gt;</span><br></pre></td></tr></table></figure>
<p>5、eclipse整合maven</p>
<p>使用自己的maven安装包</p>
<p><img src="https://i.imgur.com/Uf2A5ql.png" alt=""></p>
<p><img src="https://i.imgur.com/DelPSwV.png" alt=""></p>
<p>6、IDEA整合maven</p>
<p><img src="https://i.imgur.com/G2sHbyp.png" alt=""></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/01/22/maven配置/" data-id="cjr7d1d6m0003pouek267mdie" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-my_en" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/22/my_en/" class="article-date">
  <time datetime="2019-01-22T04:58:55.000Z" itemprop="datePublished">2019-01-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/22/my_en/">my_en</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>###2018/12/14</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">eviction --赶出</span><br><span class="line">thorough --彻底</span><br><span class="line">fixed --固定</span><br><span class="line">notifications --通知</span><br><span class="line">traverse graphs --遍历图</span><br><span class="line">covers --覆盖</span><br><span class="line">block --阻塞</span><br><span class="line">Redis Releases --Redis 发布</span><br><span class="line">Benchmarks --基准</span><br><span class="line">Latency monitoring --延迟监控</span><br><span class="line">tune --调整</span><br><span class="line">High Availability --高可用性</span><br><span class="line">Signals Handling --信号处理</span><br><span class="line">Administration --管理</span><br><span class="line">troubleshoot --解决</span><br><span class="line">Troubleshooting --故障排除</span><br><span class="line">command line interface --命令行界面</span><br><span class="line">durability --持久力</span><br><span class="line">Credits --积分</span><br><span class="line">Sponsors --赞助商</span><br><span class="line">Trademark  --商标</span><br><span class="line">Lexicographical order --字典顺序</span><br><span class="line">populated --填充</span><br><span class="line">reply --答复、回复</span><br><span class="line">indicating  --指示、说明</span><br><span class="line">penultimate --倒数第二</span><br><span class="line">treat --对待、视其为</span><br><span class="line">abstractions --抽象</span><br><span class="line">separately --单独、分别地</span><br><span class="line">retrieve --检索、取出</span><br><span class="line">bitmaps --位图</span><br><span class="line">probabilistic --概率</span><br><span class="line">estimate --估计</span><br><span class="line">cardinality --基数</span><br><span class="line">scared --害怕</span><br><span class="line">trivial --不重要的、微不足道的</span><br><span class="line">crash course --速成班</span><br><span class="line">specification --规范</span><br><span class="line">Prerequisites --先决条件</span><br><span class="line">clause --条款、子句</span><br><span class="line">omit  --忽略</span><br><span class="line">semantics --语义</span><br></pre></td></tr></table></figure>
<p>###20181215</p>
<p>参考<br><a href="https://tylermcginnis.com/ultimate-guide-to-execution-contexts-hoisting-scopes-and-closures-in-javascript/" target="_blank" rel="noopener">https://tylermcginnis.com/ultimate-guide-to-execution-contexts-hoisting-scopes-and-closures-in-javascript/</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">opinion --观点</span><br><span class="line">properly  --正确地</span><br><span class="line">strategy  --策略</span><br><span class="line">interpret --解释</span><br><span class="line">authoring --创作</span><br><span class="line">form --形式</span><br><span class="line">consist of --包括</span><br><span class="line">responsibilities --责任</span><br><span class="line">spot  --点、发现</span><br><span class="line">key --关键</span><br><span class="line">phases --阶段</span><br><span class="line">deserve --值得</span><br><span class="line">cement  --巩固</span><br><span class="line">Hoisting --提升</span><br><span class="line">exactly identical --完全相同</span><br><span class="line">fairly comfortable  --相当熟悉</span><br><span class="line">adapt --调整、适应</span><br><span class="line">Set up memory space  --设置内存空间</span><br><span class="line">Execution Stack --执行堆栈</span><br><span class="line">Call Stack --调用堆栈</span><br><span class="line">intuition --直觉</span><br><span class="line">scenario  --脚本</span><br><span class="line">misunderstood  --误解</span><br><span class="line">Implicit Binding --隐式绑定</span><br><span class="line">Explicit Binding --显示绑定</span><br><span class="line">Lexical Binding --词法绑定</span><br></pre></td></tr></table></figure>
<p>###20181217</p>
<p>参考</p>
<p><a href="https://dev.to/siwalik/async-programming-basics-every-js-developer-should-know-in-2018-a9c" target="_blank" rel="noopener">https://dev.to/siwalik/async-programming-basics-every-js-developer-should-know-in-2018-a9c</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">hence --于是</span><br><span class="line">imensely --非常</span><br></pre></td></tr></table></figure>
<p>###20190117</p>
<p>参考：</p>
<p><a href="https://docs.python.org/3/library/stdtypes.html#comparisons" target="_blank" rel="noopener">https://docs.python.org/3/library/stdtypes.html#comparisons</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">Comparisons  --比较</span><br><span class="line">Comparisons can be chained arbitrarily  --比较可以任意连接</span><br><span class="line">negated --否定</span><br><span class="line">notion --概念、主张</span><br><span class="line">raise --养、引发</span><br></pre></td></tr></table></figure>
<p><a href="https://docs.python.org/3/library/stdtypes.html#sequence-types-list-tuple-range" target="_blank" rel="noopener">https://docs.python.org/3/library/stdtypes.html#sequence-types-list-tuple-range</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">ascending  --升序</span><br><span class="line">restrictions --限制</span><br><span class="line">imposed --加强</span><br><span class="line">lexicographically --字典顺序</span><br><span class="line">multidimensional list --多维列表</span><br><span class="line">Immutable Sequence Types --不可变序列类型</span><br><span class="line">slice --切片</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/01/22/my_en/" data-id="cjr7d1d6n0004poue7ryp9v0u" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-springmvc配置" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/22/springmvc配置/" class="article-date">
  <time datetime="2019-01-22T04:58:55.000Z" itemprop="datePublished">2019-01-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/22/springmvc配置/">springmvc配置</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>1、springmvc路径跳转配置</p>
<p>目录结构</p>
<p><img src="https://i.imgur.com/aFawmCF.png" alt=""></p>
<p>控制层</p>
<p><img src="https://i.imgur.com/aOtL3xC.png" alt=""></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 使用注解开发，不用配置controller，需要配置一个组件扫描器 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">"com.*"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 视图解析器 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span></span></span><br><span class="line"><span class="tag">	<span class="attr">class</span>=<span class="string">"org.springframework.web.servlet.view.InternalResourceViewResolver"</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- 配置从项目根目录到指定目录一端路径 ,建议指定浅一点的目录 --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"prefix"</span> <span class="attr">value</span>=<span class="string">"/WEB-INF/jsp/"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- 文件的后缀名 --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"suffix"</span> <span class="attr">value</span>=<span class="string">".jsp"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--将index2.jsp放在/WEB-INF/jsp/目录下，请求index2时不经过controller处理;</span></span><br><span class="line"><span class="comment">配置了mvc:view-controller后需要配置mvc:annotation-driven,不然走controller的请求会失效 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:view-controller</span> <span class="attr">path</span>=<span class="string">"/index2"</span></span></span><br><span class="line"><span class="tag">	<span class="attr">view-name</span>=<span class="string">"index2"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:annotation-driven</span>&gt;</span><span class="tag">&lt;/<span class="name">mvc:annotation-driven</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--处理静态资源  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mvc:default-servlet-handler</span>/&gt;</span></span><br></pre></td></tr></table></figure>
<p>index.jsp</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;%@ page language=<span class="string">"java"</span> contentType=<span class="string">"text/html; charset=ISO-8859-1"</span></span><br><span class="line">	pageEncoding=<span class="string">"ISO-8859-1"</span>%&gt;</span><br><span class="line">&lt;%@ taglib uri=<span class="string">"http://java.sun.com/jstl/core_rt"</span> prefix=<span class="string">"c"</span>%&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=<span class="string">"ISO-8859-1"</span>&gt;</span><br><span class="line">&lt;title&gt;Insert title here&lt;/title&gt;</span><br><span class="line">&lt;%</span><br><span class="line"></span><br><span class="line">	request.setAttribute(<span class="string">"path"</span>, request.getContextPath());</span><br><span class="line">%&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//走controller跳转</span></span><br><span class="line">	&lt;a href="hello"&gt;go controller&lt;/a&gt;</span><br><span class="line">	&lt;br&gt;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//不走controller跳转，在springmvc配置文件中配置了mvc-view;index2.jsp页面需放在/WEB-INF/jsp/目录下</span></span><br><span class="line">	&lt;a href="index2"&gt;not go controller&lt;/a&gt;</span><br><span class="line">	&lt;br/&gt;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//加载静态资源</span></span><br><span class="line">	&lt;a href="$&#123;path&#125;/static/index3.jsp"&gt;load static resource index3.jsp&lt;/a&gt;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//加载静态资源，需在springmvc配置文件中配置mvc:default-servlet-handler</span></span><br><span class="line">	&lt;script type=<span class="string">"text/javascript"</span></span><br><span class="line">		src="$&#123;path&#125;/ui/jquery/jquery-1.8.3.min.js"&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">	&lt;script type=<span class="string">"text/javascript"</span>&gt;</span><br><span class="line">		$(function() &#123;</span><br><span class="line">			console.log(<span class="string">"$&#123;path&#125;"</span>)</span><br><span class="line">		&#125;)</span><br><span class="line">	&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>2、springmvc获取请求参数，封装数据到请求域</p>
<p>前台</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">'testParam'</span> <span class="attr">method</span>=<span class="string">'get'</span>&gt;</span></span><br><span class="line">	用户名：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">'text'</span> <span class="attr">name</span>=<span class="string">'username'</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">button</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>控制层</p>
<p>处理方式一：<br>方法参数为Map或者ModelMap类型，数据封装到Map或者Modelmap类型中，其实就是将数据放入到请求域当中</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/testParam"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">testParam</span><span class="params">(ModelMap modelMap,HttpServletRequest request)</span> </span>&#123;</span><br><span class="line">	String username = request.getParameter(<span class="string">"username"</span>);</span><br><span class="line">	System.out.println(<span class="string">"接收前台发送过来的请求参数=========&gt;用户名："</span>+username);</span><br><span class="line"></span><br><span class="line">	<span class="comment">//modelmap会将数据放到请求域当中</span></span><br><span class="line">	modelMap.put(<span class="string">"address"</span>, <span class="string">"haikou"</span>);</span><br><span class="line">	<span class="comment">//返回视图</span></span><br><span class="line">	<span class="keyword">return</span> <span class="string">"hello"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>处理方式二：<br>用ModelAndView作为返回值，可以将数据放到请求域中且指定返回的视图</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/testParam"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> ModelAndView <span class="title">testParam</span><span class="params">(HttpServletRequest request)</span> </span>&#123;</span><br><span class="line">	String username = request.getParameter(<span class="string">"username"</span>);</span><br><span class="line">	System.out.println(<span class="string">"接收前台发送过来的请求参数=========&gt;用户名："</span>+username);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//参数为返回的视图</span></span><br><span class="line">	ModelAndView hello =<span class="keyword">new</span> ModelAndView(<span class="string">"hello"</span>);</span><br><span class="line">	hello.addObject(<span class="string">"address"</span>, <span class="string">"haikou"</span>);</span><br><span class="line">	<span class="keyword">return</span> hello;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>前台获取</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;!-- 获取后台封装在请求域中的数据 --&gt;</span><br><span class="line">地址：$&#123;requestScope.address&#125;&lt;br/&gt;</span><br><span class="line">&lt;%=request.getAttribute(<span class="string">"address"</span>)%&gt;</span><br></pre></td></tr></table></figure>
<p>3、springmvc处理文件上传</p>
<p>springmvc.xml增加如下配置</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">&lt;!--文件上传  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">name</span>=<span class="string">"multipartResolver"</span></span></span><br><span class="line"><span class="tag">	<span class="attr">class</span>=<span class="string">"org.springframework.web.multipart.commons.CommonsMultipartResolver"</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"defaultEncoding"</span> <span class="attr">value</span>=<span class="string">"UTF-8"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"maxUploadSize"</span> <span class="attr">value</span>=<span class="string">"10240000"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>前台表单提交</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">//必须是post请求，且enctype='multipart/form-data'</span><br><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">'testFileUpload'</span> <span class="attr">method</span>=<span class="string">'post'</span> <span class="attr">enctype</span>=<span class="string">'multipart/form-data'</span>&gt;</span></span><br><span class="line">	文件：<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">'file'</span> <span class="attr">name</span>=<span class="string">'file'</span> &gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">button</span>&gt;</span>提交<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>控制层</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/testFileUpload"</span>)</span><br><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">testFileUpload</span><span class="params">(@RequestParam(<span class="string">"file"</span>)</span>MultipartFile file) <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">	<span class="comment">//获取文件名</span></span><br><span class="line">	String fileName=file.getOriginalFilename();</span><br><span class="line">	<span class="comment">//获取流，即可取得内容</span></span><br><span class="line">	InputStream in=file.getInputStream();</span><br><span class="line">	System.out.println(<span class="string">"文件名===========&gt;"</span>+fileName);</span><br><span class="line">	<span class="keyword">return</span> <span class="string">"hello"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>4、springmvc返回json数据</p>
<p>pom.xml加入依赖</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">	<span class="comment">&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-annotations --&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-annotations<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>控制层</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//需要加@ResponseBody注解</span></span><br><span class="line"><span class="meta">@RequestMapping</span>(<span class="string">"/testJson"</span>)</span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Map <span class="title">testFileUpload</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	Map&lt;String, Object&gt; map=<span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">	map.put(<span class="string">"username"</span>, <span class="string">"沈利兵"</span>);</span><br><span class="line">	map.put(<span class="string">"sex"</span>, <span class="string">"男"</span>);</span><br><span class="line">	<span class="keyword">return</span> map;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/01/22/springmvc配置/" data-id="cjr7d1d6o0005poue1qdum12m" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-svn版本控制" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/22/svn版本控制/" class="article-date">
  <time datetime="2019-01-22T04:58:55.000Z" itemprop="datePublished">2019-01-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/22/svn版本控制/">svn版本控制</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>1、svn下载</p>
<p><a href="https://sourceforge.net/projects/win32svn/" target="_blank" rel="noopener">https://sourceforge.net/projects/win32svn/</a></p>
<p>2、验证是否安装成功</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">C:\Users\libingshen&gt;svn --version</span><br></pre></td></tr></table></figure>
<p>3、创建版本库</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">D:\mytest\mysvn\OA&gt;svnadmin create D:\mytest\mysvn\OA</span><br></pre></td></tr></table></figure>
<p><img src="https://i.imgur.com/v4aUp1n.png" alt=""></p>
<p>4、启动svn服务</p>
<p><img src="https://i.imgur.com/CStIBx9.png" alt=""></p>
<p>5、验证svn服务是否启动</p>
<p>svn服务监听3690端口</p>
<p><img src="https://i.imgur.com/sogDN9t.png" alt=""></p>
<p>6、svn注册为Windows服务</p>
<p>tip:等号左边没有空格，等号右边有一个空格。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">C:\WINDOWS\system32&gt;sc create MySVNService binpath= &quot;C:\Pmyprogram\svn\bin\svnserve.exe --service -r D:\mytest\mysvn&quot; start= auto depend= Tcpip</span><br></pre></td></tr></table></figure>
<p>原因：每次启动svn服务时必须启动一个cmd窗口，cmd窗口一关闭，svn服务就关闭。</p>
<p>非管理员运行时会失败。<br><img src="https://i.imgur.com/rPliKES.png" alt=""></p>
<p>管理员运行<br><img src="https://i.imgur.com/gBmdKhJ.png" alt=""></p>
<p><img src="https://i.imgur.com/whIFJo4.png" alt=""></p>
<p>启动、停止、删除svn服务（管理员身份运行cmd）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">//启动svn服务</span><br><span class="line">C:\WINDOWS\system32&gt;sc start MySVNService</span><br><span class="line"></span><br><span class="line">//停止服务</span><br><span class="line">C:\WINDOWS\system32&gt;sc stop MySVNService</span><br><span class="line"></span><br><span class="line">//删除服务</span><br><span class="line">C:\WINDOWS\system32&gt;sc delete MySVNService</span><br></pre></td></tr></table></figure>
<p>7、检出项目</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">D:\mytest\mycheckout&gt;svn checkout svn://localhost/OA MyOA</span><br></pre></td></tr></table></figure>
<p><img src="https://i.imgur.com/vvRuF4T.png" alt=""></p>
<p>8、提交文件</p>
<p>–开启匿名权限访问</p>
<p><img src="https://i.imgur.com/hBW5DuW.png" alt=""></p>
<p>–先将文件加入版本库，然后提交（需添加提交日志信息，不然报错）</p>
<p>svn commit 命令最后可以不指定具体文件，此时表示提交当前工作副本中<br>的所有修改</p>
<p><img src="https://i.imgur.com/r1IpUsZ.png" alt=""></p>
<p>9、更新</p>
<p>另一个客户端检出项目、更新并提交文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">//远程版本库具体位置  svn://localhost/OA</span><br><span class="line">//将OA检出到本地的目录 MyOA2</span><br><span class="line">D:\mytest\mycheckout&gt;svn checkout svn://localhost/OA MyOA2</span><br></pre></td></tr></table></figure>
<p><img src="https://i.imgur.com/u4zFEcf.png" alt=""></p>
<p><img src="https://i.imgur.com/67qMr6A.png" alt=""></p>
<p>10、授权访问版本库</p>
<p>–单版本库开启授权访问</p>
<p><img src="https://i.imgur.com/emwZBDY.png" alt=""></p>
<p>–多版本库开启授权访问</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">在版本库根目录 D:\mytest\mysvn 下创建 commConf 目录</span><br><span class="line">将未修改的 authz 和 passwd 文件拷贝到 commConf 目录下</span><br><span class="line">修改需要设置权限的版本库的 svnserve.conf 文件</span><br><span class="line">①password-db = ../../commConf/passwd</span><br><span class="line">②authz-db = ../../commConf/authz</span><br></pre></td></tr></table></figure>
<p><img src="https://i.imgur.com/QjqreHq.png" alt=""></p>
<p>passwd：设置访问版本库的用户信息</p>
<p><img src="https://i.imgur.com/7TQZlnl.png" alt=""></p>
<p>authz：设置用户访问版本库的权限</p>
<p><img src="https://i.imgur.com/XIZ9z9v.png" alt=""></p>
<hr>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/01/22/svn版本控制/" data-id="cjr7d1d6q0006pouey80tre1w" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-JavaScript Inheritance and the Prototype Chain" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/22/JavaScript Inheritance and the Prototype Chain/" class="article-date">
  <time datetime="2019-01-22T04:58:55.000Z" itemprop="datePublished">2019-01-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/22/JavaScript Inheritance and the Prototype Chain/">JavaScript Inheritance and the Prototype Chain</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>参考：</p>
<p><a href="https://tylermcginnis.com/javascript-inheritance-and-the-prototype-chain/" target="_blank" rel="noopener">https://tylermcginnis.com/javascript-inheritance-and-the-prototype-chain/</a></p>
<p>##JavaScript Inheritance and the Prototype Chain</p>
<p><strong>Post</strong></p>
<p>This post is designed to be read after you read JavaScript Private and Public Class Fields.</p>
<p>Previously we learned how to create an <strong>Animal</strong> class both in <strong>ES5</strong> as well as in <strong>ES6</strong>. We also learned how to share methods across those classes using JavaScript’s prototype. To review, here’s the code we saw in an earlier post.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">function Animal (name, energy) &#123;</span><br><span class="line">  this.name = name</span><br><span class="line">  this.energy = energy</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Animal.prototype.eat = function (amount) &#123;</span><br><span class="line">  console.log(`$&#123;this.name&#125; is eating.`)</span><br><span class="line">  this.energy += amount</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Animal.prototype.sleep = function (length) &#123;</span><br><span class="line">  console.log(`$&#123;this.name&#125; is sleeping.`)</span><br><span class="line">  this.energy += length</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Animal.prototype.play = function (length) &#123;</span><br><span class="line">  console.log(`$&#123;this.name&#125; is playing.`)</span><br><span class="line">  this.energy -= length</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const leo = new Animal(&apos;Leo&apos;, 7)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Animal &#123;</span><br><span class="line">  constructor(name, energy) &#123;</span><br><span class="line">    this.name = name</span><br><span class="line">    this.energy = energy</span><br><span class="line">  &#125;</span><br><span class="line">  eat(amount) &#123;</span><br><span class="line">    console.log(`$&#123;this.name&#125; is eating.`)</span><br><span class="line">    this.energy += amount</span><br><span class="line">  &#125;</span><br><span class="line">  sleep() &#123;</span><br><span class="line">    console.log(`$&#123;this.name&#125; is sleeping.`)</span><br><span class="line">    this.energy += length</span><br><span class="line">  &#125;</span><br><span class="line">  play() &#123;</span><br><span class="line">    console.log(`$&#123;this.name&#125; is playing.`)</span><br><span class="line">    this.energy -= length</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const leo = new Animal(&apos;Leo&apos;, 7)</span><br></pre></td></tr></table></figure>
<p>Now let’s say we wanted to start making individual classes for specific animals. For example, what if we wanted to start making a bunch of dog instances. What properties and methods will these dogs have? Well, similar to our <strong>Animal</strong> class, we could give each dog a <strong>name</strong>, an <strong>energy</strong> level, and the ability to <strong>eat</strong>, <strong>sleep</strong>, and <strong>play</strong>. Unique to our Dog class, we could also give them a <strong>breed</strong> property as well as the ability to <strong>bark</strong>. In ES5, our <strong>Dog</strong> class could look something like this</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">function Dog (name, energy, breed) &#123;</span><br><span class="line">  this.name = name</span><br><span class="line">  this.energy = energy</span><br><span class="line">  this.breed = breed</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Dog.prototype.eat = function (amount) &#123;</span><br><span class="line">  console.log(`$&#123;this.name&#125; is eating.`)</span><br><span class="line">  this.energy += amount</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Dog.prototype.sleep = function (length) &#123;</span><br><span class="line">  console.log(`$&#123;this.name&#125; is sleeping.`)</span><br><span class="line">  this.energy += length</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Dog.prototype.play = function (length) &#123;</span><br><span class="line">  console.log(`$&#123;this.name&#125; is playing.`)</span><br><span class="line">  this.energy -= length</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Dog.prototype.bark = function () &#123;</span><br><span class="line">  console.log(&apos;Woof-Woof!&apos;)</span><br><span class="line">  this.energy -= .1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const charlie = new Dog(&apos;Charlie&apos;, 10, &apos;Goldendoodle&apos;)</span><br></pre></td></tr></table></figure>
<p>Alright, well… we just recreated the <strong>Animal</strong> class and added a few new properties to it. If we wanted to create another animal, say a <strong>Cat</strong>, at this point we’d again have to create a <strong>Cat</strong> class, duplicate all the common logic located in the <strong>Animal</strong> class to it, then add on <strong>Cat</strong> specific properties just like we did with the <strong>Dog</strong> class. In fact, we’d have to do this for each different type of animal we created.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">function Dog (name, energy, breed) &#123;&#125;</span><br><span class="line"></span><br><span class="line">function Cat (name, energy, declawed) &#123;&#125;</span><br><span class="line"></span><br><span class="line">function Giraffe (name, energy, height) &#123;&#125;</span><br><span class="line"></span><br><span class="line">function Monkey (name, energy, domesticated) &#123;&#125;</span><br></pre></td></tr></table></figure>
<p>This work, but it seems wasteful. The <strong>Animal</strong> class is the perfect base class. What that means is that it has all the properties that each one of our animals has in common. Whether we’re creating a dog, cat, giraffe, or monkey, all of them will have a <strong>name</strong>, <strong>energy</strong> level, and the ability to <strong>eat</strong>, <strong>sleep</strong>, and <strong>play</strong>. With that said, is there a way we can utilize the <strong>Animal</strong> class whenever we create the individual classes for each different animal? Let’s try it out. I’ll paste the <strong>Animal</strong> class again below for easy reference.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">function Animal (name, energy) &#123;</span><br><span class="line">  this.name = name</span><br><span class="line">  this.energy = energy</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Animal.prototype.eat = function (amount) &#123;</span><br><span class="line">  console.log(`$&#123;this.name&#125; is eating.`)</span><br><span class="line">  this.energy += amount</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Animal.prototype.sleep = function (length) &#123;</span><br><span class="line">  console.log(`$&#123;this.name&#125; is sleeping.`)</span><br><span class="line">  this.energy += length</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Animal.prototype.play = function (length) &#123;</span><br><span class="line">  console.log(`$&#123;this.name&#125; is playing.`)</span><br><span class="line">  this.energy -= length</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function Dog (name, energy, breed) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>What are some things we know about the <strong>Dog</strong> constructor function above?</p>
<p>First, we know it takes 3 arguments, <strong>name</strong>, <strong>energy</strong>, and <strong>breed</strong>.</p>
<p>Second, we know it’s going to be called with the <strong>new</strong> keyword so we’ll have a <strong>this</strong> object.</p>
<p>And third, we know we need to utilize the <strong>Animal</strong> function so that any instance of dog will have a <strong>name</strong>, <strong>energy</strong> level, and be able to <strong>eat</strong>, <strong>sleep</strong>, and <strong>play</strong>.</p>
<p>It’s the third one that’s the tricky one. The way you “utilize” a function is by calling it. So we know that inside of <strong>Dog</strong>, we want to call <strong>Animal</strong>. What we need to figure out though is how we can invoke <strong>Animal</strong> in the context of <strong>Dog</strong>. What that means it that we want to call <strong>Animal</strong> with the <strong>this</strong> keyword from Dog. If we do that correctly, then <strong>this</strong> inside of the <strong>Dog</strong> function will have all the properties of <strong>Animal</strong> (name, energy). If you remember from a previous section, every function in JavaScript has a <strong>.call</strong> method on it.</p>
<blockquote>
<p>.call() is a method on every function that allows you to invoke the function specifying in what context the function will be invoked.</p>
</blockquote>
<p>This sounds like exactly what we need. We want to invoke <strong>Animal</strong> in the context of <strong>Dog</strong>.</p>
<pre><code>   function Dog (name, energy, breed) {
  Animal.call(this, name, energy)

  this.breed = breed
}

const charlie = new Dog(&apos;Charlie&apos;, 10, &apos;Goldendoodle&apos;)

charlie.name // Charlie
charlie.energy // 10
charlie.breed // Goldendoodle
</code></pre><p>Solid, we’re half-way there. You’ll notice in the code above that because of this line <strong>Animal.call(this, name, energy)</strong>, every instance of <strong>Dog</strong> will now have a <strong>name</strong> and <strong>energy</strong> property. Again, the reason for that is because it’s as if we ran the <strong>Animal</strong> function with the <strong>this</strong> keyword generated from <strong>Dog</strong>. Then after we added a <strong>name</strong> and <strong>energy</strong> property to <strong>this</strong>, we also added a <strong>breed</strong> property just as we normally would.</p>
<p>Remember the goal here is to have each instance of <strong>Dog</strong> have not only all the properties of <strong>Animal</strong>, but also all the methods as well. If you run the code above, you’ll notice that if you try to run <strong>charlie.eat(10)</strong> you’ll get an error. Currently every instance of <strong>Dog</strong> will have the properties of <strong>Animal</strong> (<strong>name</strong> and <strong>energy</strong>), but we haven’t done anything to make sure that they also have the methods (<strong>play, eat, sleep)</strong>.</p>
<p>Let’s think about how we can solve this. We know that all the <strong>Animal</strong>’s methods are located on <strong>Animal.prototype</strong>. What that means is we somehow want to make sure that all instances of <strong>Dog</strong> will have access to the methods on <strong>Animal.prototype</strong>. What if we used our good friend <strong>Object.create</strong> here? If you’ll remember, <strong>Object.create</strong> allows you to create an object which will delegate to another object on failed lookups. So in our case, the object we want to create is going to be <strong>Dog</strong>’s prototype and the object we want to delegate to on failed lookups is <strong>Animal.prototype</strong>.</p>
<pre><code>function Dog (name, energy, breed) {
  Animal.call(this, name, energy)

  this.breed = breed
}

Dog.prototype = Object.create(Animal.prototype)
</code></pre><p>Now, whenever there’s a failed lookup on an instance of <strong>Dog</strong>, JavaScript will delegate that lookup to <strong>Animal.prototype</strong>. If this is still a little fuzzy, re-read A Beginner’s Guide to JavaScript’s Prototype where we talk all about <strong>Object.create</strong> and JavaScript’s prototype.</p>
<p>Let’s look at the full code together then we’ll walk through what happens.</p>
<pre><code>function Animal (name, energy) {
  this.name = name
  this.energy = energy
}

Animal.prototype.eat = function (amount) {
  console.log(`${this.name} is eating.`)
  this.energy += amount
}

Animal.prototype.sleep = function (length) {
  console.log(`${this.name} is sleeping.`)
  this.energy += length
}

Animal.prototype.play = function (length) {
  console.log(`${this.name} is playing.`)
  this.energy -= length
}

function Dog (name, energy, breed) {
  Animal.call(this, name, energy)

  this.breed = breed
}

Dog.prototype = Object.create(Animal.prototype)
</code></pre><p>Now we’ve created our base class (<strong>Animal</strong>) as well as our subclass (<strong>Dog</strong>), let’s see what it looks like under the hood when we create an instance of <strong>Dog</strong>.</p>
<pre><code>const charlie = new Dog(&apos;Charlie&apos;, 10, &apos;Goldendoodle&apos;)

charlie.name // Charlie
charlie.energy // 10
charlie.breed // Goldendoodle
</code></pre><p>Nothing fancy so far, but let’s look at what happens when we invoke a method located on <strong>Animal</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">   charlie.eat(10)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">1) JavaScript checks if charlie has an eat property - it doesn&apos;t.</span><br><span class="line">2) JavaScript then checks if Dog.prototype has an eat property</span><br><span class="line">    - it doesn&apos;t.</span><br><span class="line">3) JavaScript then checks if Animal.prototype has an eat property</span><br><span class="line">    - it does so it calls it.</span><br><span class="line">*/</span><br></pre></td></tr></table></figure>
<p>The reason <strong>Dog.prototype</strong> gets checked is because when we created a new instance of <strong>Dog</strong>, we used the <strong>new</strong> keyword. Under the hood, the <strong>this</strong> object that was created for us delegates to <strong>Dog.prototype</strong> (seen in comments below).</p>
<pre><code>function Dog (name, energy, breed) {
  // this = Object.create(Dog.prototype)
  Animal.call(this, name, energy)

  this.breed = breed
  // return this
}
</code></pre><p>The reason <strong>Animal.prototype</strong> gets checked is because we overwrote <strong>Dog.prototype</strong> to delegate to <strong>Animal.prototype</strong> on failed lookups with this line</p>
<pre><code>Dog.prototype = Object.create(Animal.prototype)
</code></pre><p>Now one thing we haven’t talked about is what if <strong>Dog</strong> has its own methods? Well, that’s a simple solution. Just like with <strong>Animal</strong>, if we want to share a method across all instances of that class, we add it to the function’s prototype.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">...</span><br><span class="line"></span><br><span class="line">function Dog (name, energy, breed) &#123;</span><br><span class="line">  Animal.call(this, name, energy)</span><br><span class="line"></span><br><span class="line">  this.breed = breed</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Dog.prototype = Object.create(Animal.prototype)</span><br><span class="line"></span><br><span class="line">Dog.prototype.bark = function () &#123;</span><br><span class="line">  console.log(&apos;Woof Woof!&apos;)</span><br><span class="line">  this.energy -= .1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>very nice. There’s just one small addition we need to make. If you remember back to the Beginner’s Guide to JavaScript’s Prototype post, we were able to get access to the instances’ constructor function by using <strong>instance.constructor</strong>.</p>
<pre><code>function Animal (name, energy) {
  this.name = name
  this.energy = energy
}

const leo = new Animal(&apos;Leo&apos;, 7)
console.log(leo.constructor) // Logs the constructor function
</code></pre><p>As explained in the previous post, “the reason this works is because any instances of <strong>Animal</strong> are going to delegate to <strong>Animal.prototype</strong> on failed lookups. So when you try to access <strong>leo.prototype</strong>, <strong>leo</strong> doesn’t have a <strong>prototype</strong> property so it will delegate that lookup to <strong>Animal.prototype</strong> which indeed does have a <strong>constructor</strong> property.”</p>
<p>The reason I bring this up is because in our implementation, we overwrote <strong>Dog.prototype</strong> with an object that delegates to <strong>Animal.prototype</strong>.</p>
<pre><code>function Dog (name, energy, breed) {
  Animal.call(this, name, energy)

  this.breed = breed
}

Dog.prototype = Object.create(Animal.prototype)

Dog.prototype.bark = function () {
  console.log(&apos;Woof Woof!&apos;)
  this.energy -= .1
}
</code></pre><p>What that means is that now, any instances of <strong>Dog</strong> which log <strong>instance.constructor</strong> are going to get the <strong>Animal</strong> constructor rather than the <strong>Dog</strong> constructor. You can see for yourself by running this code -</p>
<pre><code>function Animal (name, energy) {
  this.name = name
  this.energy = energy
}

Animal.prototype.eat = function (amount) {
  console.log(`${this.name} is eating.`)
  this.energy += amount
}

Animal.prototype.sleep = function (length) {
  console.log(`${this.name} is sleeping.`)
  this.energy += length
}

Animal.prototype.play = function (length) {
  console.log(`${this.name} is playing.`)
  this.energy -= length
}

function Dog (name, energy, breed) {
  Animal.call(this, name, energy)

  this.breed = breed
}

Dog.prototype = Object.create(Animal.prototype)

Dog.prototype.bark = function () {
  console.log(&apos;Woof Woof!&apos;)
  this.energy -= .1
}

const charlie = new Dog(&apos;Charlie&apos;, 10, &apos;Goldendoodle&apos;)
console.log(charlie.constructor)
</code></pre><p>Notice it gives you the <strong>Animal</strong> constructor even though <strong>charlie</strong> is a direct instance of <strong>Dog</strong>. Again, we can walk through what’s happening here just like we did above.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">const charlie = new Dog(&apos;Charlie&apos;, 10, &apos;Goldendoodle&apos;)</span><br><span class="line">console.log(charlie.constructor)</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">1) JavaScript checks if charlie has a constructor property - it doesn&apos;t.</span><br><span class="line">2) JavaScript then checks if Dog.prototype has a constructor property</span><br><span class="line">    - it doesn&apos;t because it was deleted when we overwrote Dog.prototype.</span><br><span class="line">3) JavaScript then checks if Animal.prototype has a constructor property</span><br><span class="line">    - it does so it logs that.</span><br><span class="line">*/</span><br></pre></td></tr></table></figure>
<p>How can we fix this? Well, it’s pretty simple. We can just add the correct <strong>constructor</strong> property to <strong>Dog.prototype</strong> once we overwrite it.</p>
<pre><code>function Dog (name, energy, breed) {
  Animal.call(this, name, energy)

  this.breed = breed
}

Dog.prototype = Object.create(Animal.prototype)

Dog.prototype.bark = function () {
  console.log(&apos;Woof Woof!&apos;)
  this.energy -= .1
}

Dog.prototype.constructor = Dog
</code></pre><p>At this point if we wanted to make another subclass, say <strong>Cat</strong>, we’d follow the same pattern.</p>
<pre><code>function Cat (name, energy, declawed) {
  Animal.call(this, name, energy)

  this.declawed = declawed
}

Cat.prototype = Object.create(Animal.prototype)
Cat.prototype.constructor = Cat

Cat.prototype.meow = function () {
  console.log(&apos;Meow!&apos;)
  this.energy -= .1
}
</code></pre><p>This concept of having a base class with subclasses that delegate to it is called inheritance and it’s a staple of Object Oriented Programming (OOP). If you’re coming from a different programming language, odds are you’re already familiar with OOP and inheritance. Before ES6 classes, in JavaScript, inheritance was quite the task as you can see above. You need to understand now only when to use inheritance, but also a nice mix of <strong>.call</strong>, <strong>Object.create</strong>, <strong>this</strong>, and <strong>FN.prototype</strong> - all pretty advanced JS topics. Let’s see how we’d accomplish the same thing using ES6 classes though.</p>
<p>First, let’s review what it looks like to go from an ES5 “class” to an ES6 class using our <strong>Animal</strong> class.</p>
<pre><code>function Animal (name, energy) {
  this.name = name
  this.energy = energy
}

Animal.prototype.eat = function (amount) {
  console.log(`${this.name} is eating.`)
  this.energy += amount
}

Animal.prototype.sleep = function (length) {
  console.log(`${this.name} is sleeping.`)
  this.energy += length
}

Animal.prototype.play = function (length) {
  console.log(`${this.name} is playing.`)
  this.energy -= length
}

const leo = new Animal(&apos;Leo&apos;, 7)
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Animal &#123;</span><br><span class="line">  constructor(name, energy) &#123;</span><br><span class="line">    this.name = name</span><br><span class="line">    this.energy = energy</span><br><span class="line">  &#125;</span><br><span class="line">  eat(amount) &#123;</span><br><span class="line">    console.log(`$&#123;this.name&#125; is eating.`)</span><br><span class="line">    this.energy += amount</span><br><span class="line">  &#125;</span><br><span class="line">  sleep() &#123;</span><br><span class="line">    console.log(`$&#123;this.name&#125; is sleeping.`)</span><br><span class="line">    this.energy += length</span><br><span class="line">  &#125;</span><br><span class="line">  play() &#123;</span><br><span class="line">    console.log(`$&#123;this.name&#125; is playing.`)</span><br><span class="line">    this.energy -= length</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const leo = new Animal(&apos;Leo&apos;, 7)</span><br></pre></td></tr></table></figure>
<p>Now that we’ve refactored our <strong>Animal</strong> constructor function into an ES6 class, the next thing we need to do is figure out how to refactor our base class (<strong>Dog</strong>). The good news is it’s much more intuitive. For reference, in ES5, here’s what we had.</p>
<pre><code>function Dog (name, energy, breed) {
  Animal.call(this, name, energy)

  this.breed = breed
}

Dog.prototype = Object.create(Animal.prototype)

Dog.prototype.bark = function () {
  console.log(&apos;Woof Woof!&apos;)
  this.energy -= .1
}

Dog.prototype.constructor = Dog
</code></pre><p>Before we get into inheritance, let’s refactor <strong>Dog</strong> to use an ES6 class as we learned in a previous post.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Dog &#123;</span><br><span class="line">  constructor(name, energy, breed) &#123;</span><br><span class="line">    this.breed = breed</span><br><span class="line">  &#125;</span><br><span class="line">  bark() &#123;</span><br><span class="line">    console.log(&apos;Woof Woof!&apos;)</span><br><span class="line">    this.energy -= .1</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Looks great. Now, let’s figure out how to make sure that <strong>Dog</strong> inherits from <strong>Animal</strong>. The first step we need to make is a pretty straight forward one. With ES6 classes, you can <strong>extend</strong> a base class with this syntax</p>
<pre><code>class Subclass extends Baseclass {}
</code></pre><p>Translated into our example, that would make our <strong>Dog</strong> class look like this</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Animal &#123;</span><br><span class="line">  constructor(name, energy) &#123;</span><br><span class="line">    this.name = name</span><br><span class="line">    this.energy = energy</span><br><span class="line">  &#125;</span><br><span class="line">  eat(amount) &#123;</span><br><span class="line">    console.log(`$&#123;this.name&#125; is eating.`)</span><br><span class="line">    this.energy += amount</span><br><span class="line">  &#125;</span><br><span class="line">  sleep() &#123;</span><br><span class="line">    console.log(`$&#123;this.name&#125; is sleeping.`)</span><br><span class="line">    this.energy += length</span><br><span class="line">  &#125;</span><br><span class="line">  play() &#123;</span><br><span class="line">    console.log(`$&#123;this.name&#125; is playing.`)</span><br><span class="line">    this.energy -= length</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Dog extends Animal &#123;</span><br><span class="line">  constructor(name, energy, breed) &#123;</span><br><span class="line">    this.breed = breed</span><br><span class="line">  &#125;</span><br><span class="line">  bark() &#123;</span><br><span class="line">    console.log(&apos;Woof Woof!&apos;)</span><br><span class="line">    this.energy -= .1</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>In ES5 in order to make sure that every instance of <strong>Dog</strong> had a <strong>name</strong> and an <strong>energy</strong> property, we used <strong>.call</strong> in order to invoke the <strong>Animal</strong> constructor function in the context of the <strong>Dog</strong> instance. Luckily for us, in ES6 it’s much more straight forward. Whenever you are extending a baseclass and you need to invoke that baseclass’ constructor function, you invoke <strong>super</strong> passing it any arguments it needs. So in our example, our <strong>Dog</strong> constructor gets refactored to look like this</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class Animal &#123;</span><br><span class="line">  constructor(name, energy) &#123;</span><br><span class="line">    this.name = name</span><br><span class="line">    this.energy = energy</span><br><span class="line">  &#125;</span><br><span class="line">  eat(amount) &#123;</span><br><span class="line">    console.log(`$&#123;this.name&#125; is eating.`)</span><br><span class="line">    this.energy += amount</span><br><span class="line">  &#125;</span><br><span class="line">  sleep() &#123;</span><br><span class="line">    console.log(`$&#123;this.name&#125; is sleeping.`)</span><br><span class="line">    this.energy += length</span><br><span class="line">  &#125;</span><br><span class="line">  play() &#123;</span><br><span class="line">    console.log(`$&#123;this.name&#125; is playing.`)</span><br><span class="line">    this.energy -= length</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class Dog extends Animal &#123;</span><br><span class="line">  constructor(name, energy, breed) &#123;</span><br><span class="line">    super(name, energy) // calls Animal&apos;s constructor</span><br><span class="line"></span><br><span class="line">    this.breed = breed</span><br><span class="line">  &#125;</span><br><span class="line">  bark() &#123;</span><br><span class="line">    console.log(&apos;Woof Woof!&apos;)</span><br><span class="line">    this.energy -= .1</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>And that’s it. No using <strong>.call</strong>, no using <strong>Object.create</strong>, no worrying about resetting <strong>constructor</strong> on the prototype - just <strong>extends</strong> the baseclass and make sure to call <strong>super</strong>.</p>
<p>What’s interesting about JavaScript is the same patterns you’ve learned these last few posts are directly caked into the language itself. Previously you learned that the reason all instances of Array have access to the array methods like <strong>pop</strong>, <strong>slice</strong>, <strong>filter</strong>, etc are because all of those methods live on <strong>Array.prototype</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">console.log(Array.prototype)</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">  concat: ƒn concat()</span><br><span class="line">  constructor: ƒn Array()</span><br><span class="line">  copyWithin: ƒn copyWithin()</span><br><span class="line">  entries: ƒn entries()</span><br><span class="line">  every: ƒn every()</span><br><span class="line">  fill: ƒn fill()</span><br><span class="line">  filter: ƒn filter()</span><br><span class="line">  find: ƒn find()</span><br><span class="line">  findIndex: ƒn findIndex()</span><br><span class="line">  forEach: ƒn forEach()</span><br><span class="line">  includes: ƒn includes()</span><br><span class="line">  indexOf: ƒn indexOf()</span><br><span class="line">  join: ƒn join()</span><br><span class="line">  keys: ƒn keys()</span><br><span class="line">  lastIndexOf: ƒn lastIndexOf()</span><br><span class="line">  length: 0n</span><br><span class="line">  map: ƒn map()</span><br><span class="line">  pop: ƒn pop()</span><br><span class="line">  push: ƒn push()</span><br><span class="line">  reduce: ƒn reduce()</span><br><span class="line">  reduceRight: ƒn reduceRight()</span><br><span class="line">  reverse: ƒn reverse()</span><br><span class="line">  shift: ƒn shift()</span><br><span class="line">  slice: ƒn slice()</span><br><span class="line">  some: ƒn some()</span><br><span class="line">  sort: ƒn sort()</span><br><span class="line">  splice: ƒn splice()</span><br><span class="line">  toLocaleString: ƒn toLocaleString()</span><br><span class="line">  toString: ƒn toString()</span><br><span class="line">  unshift: ƒn unshift()</span><br><span class="line">  values: ƒn values()</span><br><span class="line">*/</span><br></pre></td></tr></table></figure>
<p>You also learned that the reason all instances of <strong>Object</strong> have access to methods like <strong>hasOwnProperty</strong> and <strong>toString</strong> is because those methods live on <strong>Object.prototype</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">console.log(Object.prototype)</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">  constructor: ƒn Object()</span><br><span class="line">  hasOwnProperty: ƒn hasOwnProperty()</span><br><span class="line">  isPrototypeOf: ƒn isPrototypeOf()</span><br><span class="line">  propertyIsEnumerable: ƒn propertyIsEnumerable()</span><br><span class="line">  toLocaleString: ƒn toLocaleString()</span><br><span class="line">  toString: ƒn toString()</span><br><span class="line">  valueOf: ƒn valueOf()</span><br><span class="line">*/</span><br></pre></td></tr></table></figure>
<p>Here’s a challenge for you. With the list of Array methods and Object methods above, why does this code below work?</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">const friends = [&apos;Mikenzi&apos;, &apos;Jake&apos;, &apos;Ean&apos;]</span><br><span class="line"></span><br><span class="line">friends.hasOwnProperty(&apos;push&apos;) // false</span><br></pre></td></tr></table></figure>
<p>If you look at <strong>Array.prototype</strong>, there isn’t a <strong>hasOwnProperty</strong> method. Well if there isn’t a <strong>hasOwnProperty</strong> method located on <strong>Array.prototype</strong>, how does the <strong>friends</strong> array in the example above have access to <strong>hasOwnProperty</strong>? The reason for that is because the <strong>Array</strong> class extends the <strong>Object</strong> class. So in our example above, when JavaScript sees that <strong>friends</strong> doesn’t have a <strong>hasOwnProperty</strong> property, it checks if <strong>Array.prototype</strong> does. When <strong>Array.prototype</strong> doesn’t, it checks if <strong>Object.prototype</strong> does, then it invokes it. It’s the same process we’ve seen throughout this blog post.</p>
<p>JavaScript has two types - Primitive types and Reference types.</p>
<p>Primitive types are <strong>boolean</strong>, <strong>number</strong>, <strong>string</strong>, <strong>null</strong>, and <strong>undefined</strong> and are immutable. Everything else is a reference type and they all extend <strong>Object.prototype</strong>. That’s why you can add properties to functions and arrays and that’s why both functions and arrays have access to the methods located on <strong>Object.prototype</strong>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">function speak()&#123;&#125;</span><br><span class="line">speak.woahFunctionsAreLikeObjects = true</span><br><span class="line">console.log(speak.woahFunctionsAreLikeObjects) // true</span><br><span class="line"></span><br><span class="line">const friends = [&apos;Mikenzi&apos;, &apos;Jake&apos;, &apos;Ean&apos;]</span><br><span class="line">friends.woahArraysAreLikeObjectsToo = true</span><br><span class="line">console.log(friends.woahArraysAreLikeObjectsToo) // true</span><br></pre></td></tr></table></figure>
<p>–未完待续</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/01/22/JavaScript Inheritance and the Prototype Chain/" data-id="cjr7d1d7e000cpoue0xvolo5q" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-帆软报表部署配置_emoss5用户分配角色、角色分配权限" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/22/帆软报表部署配置_emoss5用户分配角色、角色分配权限/" class="article-date">
  <time datetime="2019-01-22T04:58:55.000Z" itemprop="datePublished">2019-01-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/22/帆软报表部署配置_emoss5用户分配角色、角色分配权限/">帆软报表部署配置_emoss5用户分配角色、角色分配权限</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>1、帆软报表部署</p>
<p>客户端工具sftp下载链接</p>
<p><a href="https://www.netsarang.com/download/down_form.html?code=623" target="_blank" rel="noopener">https://www.netsarang.com/download/down_form.html?code=623</a></p>
<p>使用sftp</p>
<p><a href="https://www.netsarang.com/download/down_xfp6.html?token=dEFiMWxoUEhuNU1hQlMrRG9qU20yZ0Bnc1hKVGJhaHpkY3hBUUNMNFBoaXVn" target="_blank" rel="noopener">https://www.netsarang.com/download/down_xfp6.html?token=dEFiMWxoUEhuNU1hQlMrRG9qU20yZ0Bnc1hKVGJhaHpkY3hBUUNMNFBoaXVn</a></p>
<p>1）用客户端工具sftp登录到135.125.60.122机子</p>
<p>文件–新建</p>
<p><img src="https://i.imgur.com/2BmJwbi.png" alt=""></p>
<p><img src="https://i.imgur.com/v4wyabN.png" alt=""></p>
<p>报表存放路径</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">/opt/FineBI/webapps/WebReport/WEB-INF/reportlets</span><br></pre></td></tr></table></figure>
<p>2）菜单配置</p>
<p>基础应用–权限模型–菜单管理</p>
<p><img src="https://i.imgur.com/wIRwxey.png" alt=""></p>
<p>建立菜单层级关系</p>
<p>在资源评价菜单下-建立杜邦报表分析文件夹–建立2018杜邦报表3层目录结构</p>
<p>在2018杜邦报表(1)下配置报表位置引用–填写<strong>菜单编码(表名)、排序号、菜单名称(表名中文描述)、菜单URL</strong></p>
<p><img src="https://i.imgur.com/OpkMozW.png" alt=""></p>
<p>菜单URL的配置</p>
<p><img src="https://i.imgur.com/sWq1soL.png" alt=""></p>
<p><img src="https://i.imgur.com/dFluLNT.png" alt=""></p>
<p>2、建员工、建用户、为用户分配角色、为角色分配权限</p>
<p>1）建员工–基础应用–权限模型–员工管理</p>
<p><img src="https://i.imgur.com/3Dy5jZ7.png" alt=""></p>
<p>2）建用户–基础应用–权限模型–用户管理–新增</p>
<p><img src="https://i.imgur.com/P72nX6J.png" alt=""></p>
<p><img src="https://i.imgur.com/m5MJU1X.png" alt=""></p>
<p><strong>新建用户之前必须先建员工、角色、部门，在建用户的时候可以为该用户分配角色和菜单权限</strong></p>
<p><img src="https://i.imgur.com/foNIVta.png" alt=""></p>
<p>3）为用户分配角色–基础应用–权限模型–角色用户设置</p>
<p><img src="https://i.imgur.com/aXEslSF.png" alt=""></p>
<p>先选中角色，然后为该角色添加用户</p>
<p><img src="https://i.imgur.com/OTsxbsS.png" alt=""></p>
<p>4）为角色分配权限–基础应用–权限模型–角色管理</p>
<p><img src="https://i.imgur.com/DzlEsPW.png" alt=""></p>
<p>先选中角色，然后为该角色勾选拥有的菜单权限</p>
<p><img src="https://i.imgur.com/ssEptko.png" alt=""></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/01/22/帆软报表部署配置_emoss5用户分配角色、角色分配权限/" data-id="cjr7d1d6s0008pouejgg1h2th" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-js面向对象_箭头函数this_数组常用方法" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/01/22/js面向对象_箭头函数this_数组常用方法/" class="article-date">
  <time datetime="2019-01-22T04:58:55.000Z" itemprop="datePublished">2019-01-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/01/22/js面向对象_箭头函数this_数组常用方法/">js面向对象_箭头函数this_数组常用方法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>1、js面向对象</p>
<p>1)传统的面向对象</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.name=name;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.age=age;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    Person.prototype.showName=<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      alert(<span class="string">'我叫'</span>+<span class="keyword">this</span>.name);</span></span><br><span class="line"><span class="undefined">    &#125;;</span></span><br><span class="line"><span class="javascript">    Person.prototype.showAge=<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      alert(<span class="string">'我'</span>+<span class="keyword">this</span>.age+<span class="string">'岁'</span>);</span></span><br><span class="line"><span class="undefined">    &#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> p=<span class="keyword">new</span> Person(<span class="string">'blue'</span>, <span class="number">18</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">    p.showName();</span></span><br><span class="line"><span class="undefined">    p.showAge();</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>继承</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name, age</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.name=name;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.age=age;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    Person.prototype.showName=<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      alert(<span class="string">'我叫'</span>+<span class="keyword">this</span>.name);</span></span><br><span class="line"><span class="undefined">    &#125;;</span></span><br><span class="line"><span class="javascript">    Person.prototype.showAge=<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      alert(<span class="string">'我'</span>+<span class="keyword">this</span>.age+<span class="string">'岁'</span>);</span></span><br><span class="line"><span class="undefined">    &#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="comment">//------------------------------------------------</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">Worker</span>(<span class="params">name, age, job</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">	  <span class="comment">//通过call调用父类构造函数	</span></span></span><br><span class="line"><span class="javascript">      Person.call(<span class="keyword">this</span>, name, age);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.job=job;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">	<span class="comment">//使得子类实例对象共享父类原型对象上的方法</span></span></span><br><span class="line"><span class="javascript">    Worker.prototype=<span class="keyword">new</span> Person();</span></span><br><span class="line"><span class="javascript">	<span class="comment">//重写子类原型对象的构造，特别恶心</span></span></span><br><span class="line"><span class="undefined">    Worker.prototype.constructor=Worker;</span></span><br><span class="line"><span class="javascript">    Worker.prototype.showJob=<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      alert(<span class="string">'我是做：'</span>+<span class="keyword">this</span>.job);</span></span><br><span class="line"><span class="undefined">    &#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> w=<span class="keyword">new</span> Worker(<span class="string">'blue'</span>, <span class="number">18</span>, <span class="string">'打杂的'</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">    w.showName();</span></span><br><span class="line"><span class="undefined">    w.showAge();</span></span><br><span class="line"><span class="undefined">    w.showJob();</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>2）js标准的面向对象</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    /*function Person(name, age)&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.name=name;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.age=age;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    Person.prototype.showName=<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      alert(<span class="string">'我叫'</span>+<span class="keyword">this</span>.name);</span></span><br><span class="line"><span class="undefined">    &#125;;</span></span><br><span class="line"><span class="javascript">    Person.prototype.showAge=<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      alert(<span class="string">'我'</span>+<span class="keyword">this</span>.age+<span class="string">'岁'</span>);</span></span><br><span class="line"><span class="undefined">    &#125;;*/</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">	<span class="comment">//标准面向对象书写方式</span></span></span><br><span class="line"><span class="javascript">    <span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">constructor</span>(name, age)&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">this</span>.name=name;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">this</span>.age=age;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">      showName()&#123;</span></span><br><span class="line"><span class="javascript">        alert(<span class="string">'我叫'</span>+<span class="keyword">this</span>.name);</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">      showAge()&#123;</span></span><br><span class="line"><span class="javascript">        alert(<span class="string">'我'</span>+<span class="keyword">this</span>.age+<span class="string">'岁'</span>);</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> p=<span class="keyword">new</span> Person(<span class="string">'blue'</span>, <span class="number">18</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">    p.showName();</span></span><br><span class="line"><span class="undefined">    p.showAge();</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="comment">//------------------------------------------------</span></span></span><br><span class="line"><span class="javascript">    <span class="function"><span class="keyword">function</span> <span class="title">Worker</span>(<span class="params">name, age, job</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      Person.call(<span class="keyword">this</span>, name, age);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.job=job;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    Worker.prototype=<span class="keyword">new</span> Person();</span></span><br><span class="line"><span class="undefined">    Worker.prototype.constructor=Worker;</span></span><br><span class="line"><span class="javascript">    Worker.prototype.showJob=<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      alert(<span class="string">'我是做：'</span>+<span class="keyword">this</span>.job);</span></span><br><span class="line"><span class="undefined">    &#125;;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>标准的继承方式</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">    /*function Person(name, age)&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.name=name;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.age=age;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    Person.prototype.showName=<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      alert(<span class="string">'我叫'</span>+<span class="keyword">this</span>.name);</span></span><br><span class="line"><span class="undefined">    &#125;;</span></span><br><span class="line"><span class="javascript">    Person.prototype.showAge=<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      alert(<span class="string">'我'</span>+<span class="keyword">this</span>.age+<span class="string">'岁'</span>);</span></span><br><span class="line"><span class="undefined">    &#125;;*/</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">	<span class="comment">//标准面向对象书写方式</span></span></span><br><span class="line"><span class="javascript">    <span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">constructor</span>(name, age)&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">this</span>.name=name;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">this</span>.age=age;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">      showName()&#123;</span></span><br><span class="line"><span class="javascript">        alert(<span class="string">'我叫'</span>+<span class="keyword">this</span>.name);</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">      showAge()&#123;</span></span><br><span class="line"><span class="javascript">        alert(<span class="string">'我'</span>+<span class="keyword">this</span>.age+<span class="string">'岁'</span>);</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">    /*let p=new Person('blue', 18);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">    p.showName();</span></span><br><span class="line"><span class="undefined">    p.showAge();*/</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="comment">//------------------------------------------------</span></span></span><br><span class="line"><span class="undefined">    /*function Worker(name, age, job)&#123;</span></span><br><span class="line"><span class="javascript">      Person.call(<span class="keyword">this</span>, name, age);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">this</span>.job=job;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    Worker.prototype=<span class="keyword">new</span> Person();</span></span><br><span class="line"><span class="undefined">    Worker.prototype.constructor=Worker;</span></span><br><span class="line"><span class="javascript">    Worker.prototype.showJob=<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      alert(<span class="string">'我是做：'</span>+<span class="keyword">this</span>.job);</span></span><br><span class="line"><span class="undefined">    &#125;;*/</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">	<span class="comment">//标准继承方式，子类通过extends实例化的子类可以访问到父类原型对象的方法</span></span></span><br><span class="line"><span class="javascript">    <span class="class"><span class="keyword">class</span> <span class="title">Worker</span> <span class="keyword">extends</span> <span class="title">Person</span></span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">constructor</span>(name, age, job)&#123;</span></span><br><span class="line"><span class="javascript">        <span class="comment">//super-超类(父类)，可以访问到构造方法，不需要通过call的方式调用</span></span></span><br><span class="line"><span class="javascript">        <span class="keyword">super</span>(name, age);</span></span><br><span class="line"><span class="javascript">        <span class="keyword">this</span>.job=job;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">      showJob()&#123;</span></span><br><span class="line"><span class="javascript">        alert(<span class="string">'我是做：'</span>+<span class="keyword">this</span>.job);</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">    &#125;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> w=<span class="keyword">new</span> Worker(<span class="string">'blue'</span>, <span class="number">18</span>, <span class="string">'打杂的'</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">    w.showName();</span></span><br><span class="line"><span class="undefined">    w.showAge();</span></span><br><span class="line"><span class="undefined">    w.showJob();</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>2、箭头函数this</p>
<p>普通函数：根据调用我的人  this老变</p>
<p>箭头函数：根据所在的环境  this恒定</p>
<p>bind——给函数定死一个this</p>
<p>例1：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span></span><br><span class="line"><span class="undefined">	</span></span><br><span class="line"><span class="javascript">	<span class="comment">//箭头函数所处的环境是window</span></span></span><br><span class="line"><span class="javascript">    arr.a = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span></span><br><span class="line"><span class="undefined">    &#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">    arr.a();</span></span><br><span class="line"><span class="undefined">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>输出</p>
<p><img src="https://i.imgur.com/qtX6dUP.png" alt=""></p>
<p>例2：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.onclick=<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> arr=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span></span><br><span class="line"><span class="undefined">	  </span></span><br><span class="line"><span class="javascript">	  <span class="comment">//箭头函数所处的环境是document	</span></span></span><br><span class="line"><span class="javascript">      arr.a=<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span></span><br><span class="line"><span class="undefined">      &#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">      arr.a();</span></span><br><span class="line"><span class="undefined">    &#125;;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>输出</p>
<p><img src="https://i.imgur.com/k2XFX4S.png" alt=""></p>
<p>例3：</p>
<p>箭头函数所处的环境是document，尽管通过bind绑定死了12，但还是输出document，说明箭头函数的this优先级高于bind方式绑定的this</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.onclick=<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">	</span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> a=<span class="function"><span class="params">()</span>=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span></span><br><span class="line"><span class="undefined">      &#125;;</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> oBtn=<span class="built_in">document</span>.getElementById(<span class="string">'btn1'</span>);</span></span><br><span class="line"><span class="undefined">      oBtn.onclick=a.bind(12);</span></span><br><span class="line"><span class="undefined">    &#125;;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"aaa"</span> <span class="attr">id</span>=<span class="string">"btn1"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>输出</p>
<p><img src="https://i.imgur.com/kJzVa09.png" alt=""></p>
<p>3、数组常用方法</p>
<p>1）map 映射</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> arr=[<span class="number">62</span>, <span class="number">55</span>, <span class="number">82</span>, <span class="number">37</span>, <span class="number">26</span>];</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> arr2=arr.map(<span class="function"><span class="keyword">function</span> (<span class="params">item</span>)</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">if</span>(item&gt;=<span class="number">60</span>)&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> <span class="literal">true</span>;</span></span><br><span class="line"><span class="javascript">      &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">	<span class="comment">//true,false,true,false,false</span></span></span><br><span class="line"><span class="undefined">    alert(arr2);</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>改进1</p>
<p>map参数：回调函数使用箭头函数书写方式</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> arr=[<span class="number">62</span>, <span class="number">55</span>, <span class="number">82</span>, <span class="number">37</span>, <span class="number">26</span>];</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> arr2=arr.map(<span class="function">(<span class="params">item</span>)=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">if</span>(item&gt;=<span class="number">60</span>)&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> <span class="literal">true</span>;</span></span><br><span class="line"><span class="javascript">      &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">    alert(arr2);</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>改进2</p>
<p>如果有且仅有1个参数，()可以省</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> arr=[<span class="number">62</span>, <span class="number">55</span>, <span class="number">82</span>, <span class="number">37</span>, <span class="number">26</span>];</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> arr2=arr.map(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">if</span>(item&gt;=<span class="number">60</span>)&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> <span class="literal">true</span>;</span></span><br><span class="line"><span class="javascript">      &#125;<span class="keyword">else</span>&#123;</span></span><br><span class="line"><span class="javascript">        <span class="keyword">return</span> <span class="literal">false</span>;</span></span><br><span class="line"><span class="undefined">      &#125;</span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">    alert(arr2);</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>改进3</p>
<p>如果函数体只有一句话，而且是return，{}可以省</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> arr=[<span class="number">62</span>, <span class="number">55</span>, <span class="number">82</span>, <span class="number">37</span>, <span class="number">26</span>];</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> arr2=arr.map(<span class="function"><span class="params">item</span>=&gt;</span>item&gt;=<span class="number">60</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">    alert(arr2);</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>2）filter过滤</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> arr=[<span class="number">12</span>,<span class="number">5</span>,<span class="number">88</span>,<span class="number">37</span>,<span class="number">21</span>,<span class="number">91</span>,<span class="number">17</span>,<span class="number">24</span>];</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> arr2=arr.filter(<span class="function"><span class="params">item</span>=&gt;</span>item%<span class="number">2</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">	<span class="comment">//5,37,21,91,17</span></span></span><br><span class="line"><span class="undefined">    alert(arr2);</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>3）forEach 遍历</p>
<p>求和</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> arr=[<span class="number">12</span>,<span class="number">5</span>,<span class="number">88</span>,<span class="number">37</span>,<span class="number">21</span>,<span class="number">91</span>,<span class="number">17</span>,<span class="number">24</span>];</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> sum=<span class="number">0</span>;</span></span><br><span class="line"><span class="javascript">    arr.forEach(<span class="function"><span class="params">item</span>=&gt;</span>&#123;</span></span><br><span class="line"><span class="undefined">      sum+=item;</span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">	<span class="comment">//结果295</span></span></span><br><span class="line"><span class="undefined">    alert(sum);</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>4）reduce  汇总</p>
<p>参数</p>
<p>tmp:中间结果</p>
<p>item：元素项</p>
<p>index：元素索引</p>
<p>求和</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> arr=[<span class="number">12</span>,<span class="number">5</span>,<span class="number">88</span>,<span class="number">37</span>,<span class="number">21</span>,<span class="number">91</span>,<span class="number">17</span>,<span class="number">24</span>];</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> sum=arr.reduce(<span class="function">(<span class="params">tmp,item,index</span>)=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(tmp, item, index);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> tmp+item;</span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(sum);</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>输出</p>
<p><img src="https://i.imgur.com/ko7C3rr.png" alt=""></p>
<p>求平均</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> arr=[<span class="number">12</span>,<span class="number">5</span>,<span class="number">88</span>,<span class="number">37</span>,<span class="number">21</span>,<span class="number">91</span>,<span class="number">17</span>,<span class="number">24</span>];</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">let</span> sum=arr.reduce(<span class="function">(<span class="params">tmp,item,index</span>)=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">return</span> tmp+item;</span></span><br><span class="line"><span class="undefined">    &#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">	<span class="comment">//结果36.875</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(sum/arr.length);</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>5）from</p>
<p>将类数组转换成数组</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">media</span>=<span class="string">"screen"</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="undefined">      div &#123;width:200px; height:200px; background:#CCC; float:left; margin:10px;&#125;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    <span class="built_in">window</span>.onload=<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span></span><br><span class="line"><span class="undefined">	  </span></span><br><span class="line"><span class="javascript">	  <span class="comment">//DOM对象	</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> aDiv=<span class="built_in">document</span>.getElementsByTagName(<span class="string">'div'</span>);</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(aDiv);</span></span><br><span class="line"><span class="undefined">	</span></span><br><span class="line"><span class="javascript">	  <span class="comment">//数组	</span></span></span><br><span class="line"><span class="javascript">      <span class="keyword">let</span> aDiv2=<span class="built_in">Array</span>.from(aDiv);</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(aDiv2);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">      <span class="built_in">Array</span>.from(aDiv).forEach(<span class="function"><span class="params">div</span>=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">        div.style.background=<span class="string">'yellow'</span>;</span></span><br><span class="line"><span class="undefined">      &#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">      <span class="built_in">Array</span>.prototype.slice.call(aDiv).forEach(<span class="function"><span class="params">div</span>=&gt;</span>&#123;</span></span><br><span class="line"><span class="javascript">        div.style.background=<span class="string">'blue'</span>;</span></span><br><span class="line"><span class="undefined">      &#125;);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="undefined">    &#125;;</span></span><br><span class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">""</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>输出</p>
<p><img src="https://i.imgur.com/VQgqT0r.png" alt=""></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/01/22/js面向对象_箭头函数this_数组常用方法/" data-id="cjr7d1d700009poueunt7r4cn" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/01/22/优化点击事件绑定/">优化点击事件绑定</a>
          </li>
        
          <li>
            <a href="/2019/01/22/网易邮箱服务器发送电子邮件_搭建James邮件服务器发送电子邮件/">网易邮箱服务器发送电子邮件_搭建James邮件服务器发送电子邮件</a>
          </li>
        
          <li>
            <a href="/2019/01/22/用户分配角色_角色维护权限树/">用户分配角色_角色维护权限树</a>
          </li>
        
          <li>
            <a href="/2019/01/22/maven配置/">maven配置</a>
          </li>
        
          <li>
            <a href="/2019/01/22/my_en/">my_en</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 shenlibing<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>